<html><head><title>CMAgentLocation</title><link rel="stylesheet" type="text/css" href="../files/common.css"/><link rel="stylesheet" type="text/css" href="../files/stcode.css"/><link rel="stylesheet" type="text/css" href="../files/style.css"/><link rel="stylesheet" type="text/css" href="../files/vtip.css"/><link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"/><script>
document.WEBDOC_RELATIVE_DOCUMENT_ROOT ="../..";
document.WEBDOC_PHARO_VERSION ="'6.0'";
</script><script src="../files/jQuery.js"></script><script src="../files/jQueryUi.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script><script src="../files/app.js"></script></head><body onload="onLoad()"><div id="header"><form accept-charset="utf-8" method="get" action="/" class="hidden" id="search"><div class="searchInput">Search: <input accesskey="s" placeholder="search" name="4" id="search_box" size="30" value="" onkeyup="$.ajax({&quot;url&quot;:&quot;/&quot;,&quot;data&quot;:[&quot;1&quot;,&quot;2=&quot;+encodeURIComponent($(&quot;#search_box&quot;).val())].join(&quot;&amp;&quot;)});$(&quot;#searchResults&quot;).load(&quot;/&quot;,&quot;3&quot;)" type="search"/></div><div id="searchResults"></div><div></div></form></div><div id="content"><h1 class="className">CMAgentLocation</h1><div class="source_code"><code class="methodSource"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/CMAgent.html">CMAgent</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Class.html#method/subclass%253AinstanceVariableNames%253AclassVariableNames%253ApoolDictionaries%253Acategory%253A">subclass:</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/CMAgentLocation.html">#'CMAgentLocation'</a></span>&nbsp;<div class="stIndent"><a class="stFixedSelector stSelector" href="../class/Class.html#method/subclass%253AinstanceVariableNames%253AclassVariableNames%253ApoolDictionaries%253Acategory%253A">instanceVariableNames:</a>&nbsp;<span class="stSendArgument"><a class="stStringLiteral" href="../class/ByteString.html">'patch'</a></span>&nbsp;</div><div class="stIndent"><a class="stFixedSelector stSelector" href="../class/Class.html#method/subclass%253AinstanceVariableNames%253AclassVariableNames%253ApoolDictionaries%253Acategory%253A">classVariableNames:</a>&nbsp;<span class="stSendArgument"><a class="stStringLiteral" href="../class/ByteString.html">''</a></span>&nbsp;</div><div class="stIndent"><a class="stFixedSelector stSelector" href="../class/Class.html#method/subclass%253AinstanceVariableNames%253AclassVariableNames%253ApoolDictionaries%253Acategory%253A">poolDictionaries:</a>&nbsp;<span class="stSendArgument"><a class="stStringLiteral" href="../class/ByteString.html">''</a></span>&nbsp;</div><div class="stIndent"><a class="stFixedSelector stSelector" href="../class/Class.html#method/subclass%253AinstanceVariableNames%253AclassVariableNames%253ApoolDictionaries%253Acategory%253A">category:</a>&nbsp;<span class="stSendArgument"><a class="stStringLiteral" href="../class/ByteString.html">'Cormas-Core-Entities'</a></span></div></span></code></div><div class="classComment"><h2 class="title">Overview</h2><div class="docString"><p>Please note the following possible problems: In the description of ordre, type is not a class name.</p><p>Please note the following possible problems: The value of the class instance variable ordre is nil, which does not match the declared types &gt;.</p><p><a class="stClassLiteral" href="class/CMAgentLocation.html/class/Instance.html">Instance</a> Variables: patch<a href="SpatialEntity"></a>  the location of the agent as a reference to a spatial entity. Symetrically, the spatial entity records the agents located there in its &quot;theOccupants&quot; attribute, a dictionary of collections of located entities.</p><p><a class="stClassLiteral" href="class/CMAgentLocation.html/class/Class.html">Class</a> <a class="stClassLiteral" href="class/CMAgentLocation.html/class/Instance.html">Instance</a> Variables: ordre<a href="type"></a>  comment</p></div></div><div class="classMethodDetail methodDetail"><h2 class="title">Class Method Details</h2><a name="class/method/isSituatedClass"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">isSituatedClass</p><div class="docstring"><div class="discussion"></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">isSituatedClass</span><div class="stIndent"><span class="stReturn">^<a class="stTrue" href="../class/True.html">true</a></span></div></code></div></div></div><div class="instanceMethodDetail methodDetail"><h2 class="title">Instance Method Details</h2><a name="method/aggregates%253AwithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">aggregates:withinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns an <a class="stClassLiteral" href="class/CMAgentLocation.html/class/OrderedCollection.html">OrderedCollection</a> of ComponentSpatialEntities (aggregate or not connex) located within a given radius of the current position of the agent. Argument: range = <a href="Integer"></a> Argument:  aClassOrClassName can be an entity class or the name of an entity <a href="ByteSymbol"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;OrderedCollection(SpatialEntity) | nil&gt;</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">aggregates:</span>&nbsp;<span class="stArgument">aClassOrClassName</span>&nbsp;<span class="stSelector">withinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/locationsWithinRadius%253A">locationsWithinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/asOrderedCollection.html">asOrderedCollection</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/collect%253A.html">collect:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/myCSE%253A">myCSE:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aClassOrClassName</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/center"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">center</p><div class="docstring"><div class="discussion"></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">center</span><div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><a class="stInstanceVariable" href="../popup/class%2FCMAgentLocationinstanceVariable/patch.html">patch</a></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><a class="stInstanceVariable" href="../popup/class%2FCMAgentLocationinstanceVariable/patch.html">patch</a></span>&nbsp;<a class="stSelector" href="../selector/list/center.html">center</a></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/colocatedEntities%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">colocatedEntities:</p><div class="docstring"><div class="discussion"><p>Purpose: returns all entities (except the sender) of a given type located in the same location as the receiver. (all locatedEntityName subclasses are considered). Argument: locatedEntityName = &lt;Symbol | Class&gt; Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(AgentLocation | ObjectLocation)&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/colocatedEntities%253A">colocatedEntities:</a> #Predator </p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">colocatedEntities:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">collec</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/ifNil%253A.html">ifNil:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<a class="stNil" href="../class/UndefinedObject.html">nil</a></span></span>&nbsp;]</span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">collec</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/occupantsAt%253A">occupantsAt:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">collec</span></span>&nbsp;<a class="stSelector" href="../selector/list/includes%253A.html">includes:</a>&nbsp;<span class="stSendArgument"><span class="stSelf">self</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">collec</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stSelf">self</span></span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stReturn">^<span class="stTempVariable">collec</span></span></div></code></div></div><a name="method/colocatedEntities%253Averifying%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">colocatedEntities:verifying:</p><div class="docstring"><div class="discussion"><p>Purpose: returns all entities of a given type located in the same location as the receiver and verifying a specified condition. Arguments: locatedEntityName = &lt;Symbol | Class&gt; aBlock = <a href="BlockClosure"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(AgentLocation | ObjectLocation)&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/colocatedEntities%253A">colocatedEntities:</a> #Prey verifying: <a>:p | p isWeak</a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">colocatedEntities:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<span class="stSelector">verifying:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/colocatedEntities%253A">colocatedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">a</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aBlock</span></span>&nbsp;<a class="stSelector" href="../selector/list/value%253A.html">value:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">a</span></span></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/colocatedEntity%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">colocatedEntity:</p><div class="docstring"><div class="discussion"><p>Purpose: picks RANDOMLY one among the co-located entities of a given type. If none: returns nil; if more than one: random selection Argument: aCondition = <a href="BlockClosure"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;AgentLocation | ObjectLocation | nil&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/colocatedEntity%253A">colocatedEntity:</a> #Prey</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">colocatedEntity:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">candidates</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">candidates</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/colocatedEntities%253A">colocatedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span></span></span>.</span><br/><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">candidates</span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/or%253A.html">or:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">candidates</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Cormas.html">Cormas</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Cormas.html#class/method/selectRandomlyFrom%253A">selectRandomlyFrom:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">candidates</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/colocatedEntity%253Averifying%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">colocatedEntity:verifying:</p><div class="docstring"><div class="discussion"><p>Purpose: picks RANDOMLY one among the co-located entities of a given type verifying a specified condition. If none: returns nil; if more than one: random selection Argument: aCondition = <a href="BlockClosure"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;AgentLocation | ObjectLocation | nil&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/colocatedEntity%253A">colocatedEntity:</a> #Prey verifying: <a>:a | a isWeak</a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">colocatedEntity:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<span class="stSelector">verifying:</span>&nbsp;<span class="stArgument">aCondition</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">candidates</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">candidates</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/colocatedEntities%253Averifying%253A">colocatedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/colocatedEntities%253Averifying%253A">verifying:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aCondition</span></span></span></span>.</span><br/><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">candidates</span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/or%253A.html">or:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">candidates</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Cormas.html">Cormas</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Cormas.html#class/method/selectRandomlyFrom%253A">selectRandomlyFrom:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">candidates</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/colocatedSimilarAgent"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">colocatedSimilarAgent</p><div class="docstring"><div class="discussion"><p>Purpose: picks RANDOMLY one among the co-located receiver-like entities. If none: returns nil; if more than one: random selection Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;AgentLocation | nil&gt;</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">colocatedSimilarAgent</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">candidates</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">candidates</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/colocatedSimilarAgents">colocatedSimilarAgents</a></span></span>.</span><br/><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">candidates</span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/or%253A.html">or:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">candidates</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Cormas.html">Cormas</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Cormas.html#class/method/selectRandomlyFrom%253A">selectRandomlyFrom:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">candidates</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/colocatedSimilarAgentVerifying%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">colocatedSimilarAgentVerifying:</p><div class="docstring"><div class="discussion"><p>Purpose: picks RANDOMLY one among the co-located receiver-like entities verifying a specified condition. If none: returns nil; if more than one: random selection Argument: aCondition = <a href="BlockClosure"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;AgentLocation | nil&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/colocatedSimilarAgentVerifying%253A">colocatedSimilarAgentVerifying:</a> <a>:a | a sex ~= self sex</a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">colocatedSimilarAgentVerifying:</span>&nbsp;<span class="stArgument">aCondition</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">candidates</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">candidates</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/colocatedSimilarAgentsVerifying%253A">colocatedSimilarAgentsVerifying:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aCondition</span></span></span></span>.</span><br/><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">candidates</span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/or%253A.html">or:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">candidates</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Cormas.html">Cormas</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Cormas.html#class/method/selectRandomlyFrom%253A">selectRandomlyFrom:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">candidates</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/colocatedSimilarAgents"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">colocatedSimilarAgents</p><div class="docstring"><div class="discussion"><p>Purpose: returns all receiver-like entities located in the same location as the receiver. Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> <a href="Collection(AgentLocation)"></a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">colocatedSimilarAgents</span><div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/colocatedEntities%253A">colocatedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ProtoObject.html#method/class">class</a></span></span></span></span></div></code></div></div><a name="method/colocatedSimilarAgentsVerifying%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">colocatedSimilarAgentsVerifying:</p><div class="docstring"><div class="discussion"><p>Purpose: returns all receiver-like entities located in the same location as the receiver and verifying a specified condition. Argument: aBlock = <a href="BlockClosure"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> <a href="Collection(AgentLocation)"></a> Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/colocatedSimilarAgentsVerifying%253A">colocatedSimilarAgentsVerifying:</a> <a>:a | a sex ~= self sex</a> </p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">colocatedSimilarAgentsVerifying:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/colocatedSimilarAgents">colocatedSimilarAgents</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">a</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aBlock</span></span>&nbsp;<a class="stSelector" href="../selector/list/value%253A.html">value:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">a</span></span></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/delete"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">delete</p><div class="docstring"><div class="discussion"><p>Purpose: gets rid of this object. The collectGarbage is IMMEDIATELY performed  (ie. the receiver of class X is removed from 'theXXXs' collection)</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">delete</span><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/leave">leave</a></span><br/><span class="stMessage"><span class="stReceiver"><span class="stSuper">super</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgent.html#method/delete">delete</a></span></div></code></div></div><a name="method/displayOn%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">displayOn:</p><div class="docstring"><div class="discussion"></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">displayOn:</span>&nbsp;<span class="stArgument">aGC</span>&nbsp;<div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Object.html#method/halt">halt</a></span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgent.html#method/displayOn%253Aat%253A">displayOn:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aGC</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgent.html#method/displayOn%253Aat%253A">at:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/center">center</a></span></span></span></div></code></div></div><a name="method/distanceTo%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">distanceTo:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the Manhattan distance (in cells) between the patch of the agent and aSpatialEntityOrSituatedEntity If it is the distance to a situatedEntity, returrns the distance to the patch of this entity. Argument: aSpatialEntityOrSituatedEntity = <a href="SpatialEntity"></a> or <a href="AgentLocation"></a> or <a href="ObjectLocation"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> <a href="Integer"></a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">distanceTo:</span>&nbsp;<span class="stArgument">aSpatialEntityOrSituatedEntity</span>&nbsp;<div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/isSituated">isSituated</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<a class="stNil" href="../class/UndefinedObject.html">nil</a></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aSpatialEntityOrSituatedEntity</span></span>&nbsp;<a class="stSelector" href="../selector/list/isSituated.html">isSituated</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/distanceTo%253A.html">distanceTo:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aSpatialEntityOrSituatedEntity</span></span>&nbsp;<a class="stSelector" href="../selector/list/patch.html">patch</a></span></span></span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aSpatialEntityOrSituatedEntity</span></span>&nbsp;<a class="stSelector" href="../selector/list/isSpatialEntity.html">isSpatialEntity</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/distanceTo%253A.html">distanceTo:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aSpatialEntityOrSituatedEntity</span></span></span></span></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/isClassLocation"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">isClassLocation</p><div class="docstring"><div class="discussion"><p>Answer if the entity is a kind of <a class="stClassLiteral" href="class/CMAgentLocation.html/class/AgentLocation.html">AgentLocation</a> or of ObjectLocation</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">isClassLocation</span><div class="stIndent"><span class="stReturn">^<a class="stTrue" href="../class/True.html">true</a></span></div></code></div></div><a name="method/isSituated"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">isSituated</p><div class="docstring"><div class="discussion"><p>Purpose: tests the location somewhere in the spatial grid</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">isSituated</span><div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><a class="stInstanceVariable" href="../popup/class%2FCMAgentLocationinstanceVariable/patch.html">patch</a></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span></div></code></div></div><a name="method/leave"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">leave</p><div class="docstring"><div class="discussion"><p>Purpose: moves the agent away from the spatial grid (sets his patch attribute to nil): the situated agent is not located any more, but it is still 'alive'  </p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">leave</span><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/leaveWhileMoving%253A">leaveWhileMoving:</a>&nbsp;<span class="stSendArgument"><a class="stFalse" href="../class/False.html">false</a></span></span></div></code></div></div><a name="method/leaveWhileMoving%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">leaveWhileMoving:</p><div class="docstring"><div class="discussion"><p>isMoving = <a href="Boolean"></a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">leaveWhileMoving:</span>&nbsp;<span class="stArgument">isMoving</span>&nbsp;<div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stSelf">self</span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stArgument">isMoving</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMEntity.html#method/currentSimulation">currentSimulation</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/spaceModel.html">spaceModel</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/ifNil%253A.html">ifNil:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<a class="stNil" href="../class/UndefinedObject.html">nil</a></span></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMEntity.html#method/currentSimulation">currentSimulation</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/spaceModel.html">spaceModel</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/logLeaveOf%253Afrom%253A.html">logLeaveOf:</a>&nbsp;<span class="stSendArgument"><span class="stSelf">self</span></span>&nbsp;<a class="stSelector" href="../selector/list/logLeaveOf%253Afrom%253A.html">from:</a>&nbsp;<span class="stSendArgument"><a class="stInstanceVariable" href="../popup/class%2FCMAgentLocationinstanceVariable/patch.html">patch</a></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMEntity.html#method/currentSimulation">currentSimulation</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CormasModel.html#method/registerEntityChange%253Afrom%253A">registerEntityChange:</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/leavingOccupant.html">#'leavingOccupant'</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CormasModel.html#method/registerEntityChange%253Afrom%253A">from:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><a class="stClassLiteral" href="../class/EntityReference.html">EntityReference</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/EntityReference.html#class/method/on%253A">on:</a>&nbsp;<span class="stSendArgument"><span class="stSelf">self</span></span>)</span></span></span></div></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/theOccupants.html">theOccupants</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253A.html">at:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ProtoObject.html#method/class">class</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Class.html#method/name">name</a></span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253AifAbsent%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stSelf">self</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253AifAbsent%253A.html">ifAbsent:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"></div></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch%253A">patch:</a>&nbsp;<span class="stSendArgument"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span></span></div></code></div></div><a name="method/locatedEntities%253Averifying%253AwithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">locatedEntities:verifying:withinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns all located entities of a given type withing a given radius of the current location and fulfilling a specified contraint. Arguments: locatedEntityName = &lt;Symbol | Class&gt; aBlock = <a href="BlockClosure"></a> range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(AgentLocation | ObjectLocation)&gt; Example: self locatedEntities: #Predator verifying: <a>:a | a isHungry</a> withinRadius: self perceptionRangePredators</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">locatedEntities:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<span class="stSelector">verifying:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<span class="stSelector">withinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/locatedEntities%253AwithinRadius%253A">locatedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/locatedEntities%253AwithinRadius%253A">withinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">a</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aBlock</span></span>&nbsp;<a class="stSelector" href="../selector/list/value%253A.html">value:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">a</span></span></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/locatedEntities%253AwithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">locatedEntities:withinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns all located entities of a given type withing a given radius of the current location (all locatedEntityName subclasses are considered). Arguments: locatedEntityName = &lt;Symbol | Class&gt; range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(AgentLocation | ObjectLocation)&gt; Example: self locatedEntities: #Predator withinRadius: self perceptionRangePredators</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">locatedEntities:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<span class="stSelector">withinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">collec</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/ifNil%253A.html">ifNil:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<a class="stNil" href="../class/UndefinedObject.html">nil</a></span></span>&nbsp;]</span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">collec</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/locationsWithinRadius%253A">locationsWithinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">collec</span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/occupantsAt%253A">occupantsAt:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span>)</span></span></span></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">collec</span></span>&nbsp;<a class="stSelector" href="../selector/list/includes%253A.html">includes:</a>&nbsp;<span class="stSendArgument"><span class="stSelf">self</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">collec</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stSelf">self</span></span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stReturn">^<span class="stTempVariable">collec</span></span></div></code></div></div><a name="method/locationsVerifying%253AwithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">locationsVerifying:withinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the spatial entities within a given radius of the receiver current location and verifying the condition specified in aBlock. The current location is considered Arguments: aBlock = <a href="BlockClosure"></a> range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(SpatialEntity) | nil&gt; Example: self locationsVerifying: <a>:c | c isClosed not</a> withinRadius: 5</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">locationsVerifying:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<span class="stSelector">withinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/recursiveNeighbourhood%253Averifying%253A">recursiveNeighbourhood:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/recursiveNeighbourhood%253Averifying%253A">verifying:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aBlock</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/locationsWithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">locationsWithinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns a collection a cells within a given radius of the current position The current location is considered Argument: range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(SpatialEntity) | nil&gt;</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">locationsWithinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stLiteralArray">#()</span></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/recursiveNeighbourhood%253A">recursiveNeighbourhood:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/locationsWithoutAny%253AwithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">locationsWithoutAny:withinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the spatial entities in a given range without any occupant of a given type. The current location is considered Arguments: locatedEntityName = &lt;Symbol | Class&gt; range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(SpatialEntity) | nil&gt; Example: self locationsWithoutAny: Predator withinRadius: self perceptionRangePredators</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">locationsWithoutAny:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<span class="stSelector">withinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/recursiveNeighbourhood%253AwithoutAny%253A">recursiveNeighbourhood:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/recursiveNeighbourhood%253AwithoutAny%253A">withoutAny:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/menu"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">menu</p><div class="docstring"><div class="discussion"></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">menu</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">aMenuBuilder</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Object.html#method/halt">halt</a></span><span class="stComment">	aMenuBuilder := MenuBuilder new.<br/>	aMenuBuilder add: 'Edition' -&gt; [self inspect].<br/>	^aMenuBuilder menu<br/></span></div></code></div></div><a name="method/moveAndTrackTo%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">moveAndTrackTo:</p><div class="docstring"><div class="discussion"><p>Move to aPatch and display a line from origin center to aPatch center Deprecated</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">moveAndTrackTo:</span>&nbsp;<span class="stArgument">aPatch</span>&nbsp;<div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aPatch</span></span></span></div></code></div></div><a name="method/moveE"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">moveE</p><div class="docstring"><div class="discussion"><p>Purpose: moves eastward if neighbourE exists (raster grid), do not move otherwise</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">moveE</span><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/and%253A.html">and:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourE">neighbourE</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourE">neighbourE</a></span></span></span></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/moveN"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">moveN</p><div class="docstring"><div class="discussion"><p>Purpose: moves northward if neighbourN exists (raster grid with square cells), do not move otherwise</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">moveN</span><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/and%253A.html">and:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourN">neighbourN</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourN">neighbourN</a></span></span></span></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/moveNE"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">moveNE</p><div class="docstring"><div class="discussion"><p>Purpose: moves northeastward if neighbourNE exists (raster grid with hexagons or 8-neighbours squares), do not move otherwise</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">moveNE</span><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/and%253A.html">and:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourNE">neighbourNE</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourNE">neighbourNE</a></span></span></span></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/moveNW"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">moveNW</p><div class="docstring"><div class="discussion"><p>Purpose: moves northwestward if neighbourNW exists (raster grid with hexagons or 8-neighbours squares), do not move otherwise</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">moveNW</span><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/and%253A.html">and:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourNW">neighbourNW</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourNW">neighbourNW</a></span></span></span></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/moveNcells%253Atowards%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">moveNcells:towards:</p><div class="docstring"><div class="discussion"><p>Purpose: moves n cells in direction of a given location. Argument: aCell = <a href="SpatialEntityElement"></a> n = &lt;positive Integer&gt; Example: self moveNcells: 5 towards: self house patch</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">moveNcells:</span>&nbsp;<span class="stArgument">n</span>&nbsp;<span class="stSelector">towards:</span>&nbsp;<span class="stArgument">aCell</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">path</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/isSituated">isSituated</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aCell</span></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">path</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/wayTo%253A.html">wayTo:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aCell</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">path</span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253C.html">&lt;</a>&nbsp;<span class="stSendArgument"><span class="stArgument">n</span></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aCell</span></span></span></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">path</span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253A.html">at:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">n</span></span>)</span></span></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/moveNcells%253Atowards%253AconstraintOnPath%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">moveNcells:towards:constraintOnPath:</p><div class="docstring"><div class="discussion"><p>Purpose: moves n cells in direction of a given location, taking a specified constraint on each cell of the path to destination. Argument: aCell = <a href="SpatialEntityElement"></a> n = &lt;positive Integer&gt; Example: self moveNcells: 3 towards: self house patch constraintOnPath: <a>:c | c isClosed not</a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">moveNcells:</span>&nbsp;<span class="stArgument">n</span>&nbsp;<span class="stSelector">towards:</span>&nbsp;<span class="stArgument">aCell</span>&nbsp;<span class="stSelector">constraintOnPath:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">path</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/isSituated">isSituated</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aCell</span></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">path</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/wayTo%253Aconstraint%253A">wayTo:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aCell</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/wayTo%253Aconstraint%253A">constraint:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aBlock</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">path</span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253C.html">&lt;</a>&nbsp;<span class="stSendArgument"><span class="stArgument">n</span></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aCell</span></span></span></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">path</span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253A.html">at:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">n</span></span>)</span></span></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/moveS"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">moveS</p><div class="docstring"><div class="discussion"><p>Purpose: moves southward if neighbourS exists (raster grid with square cells), do not move otherwise</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">moveS</span><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/and%253A.html">and:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourS">neighbourS</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourS">neighbourS</a></span></span></span></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/moveSE"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">moveSE</p><div class="docstring"><div class="discussion"><p>Purpose: moves southeastward if neighbourSE exists (raster grid with hexagons or 8-neighbours squares), do not move otherwise</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">moveSE</span><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/and%253A.html">and:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourSE">neighbourSE</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourSE">neighbourSE</a></span></span></span></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/moveSW"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">moveSW</p><div class="docstring"><div class="discussion"><p>Purpose: moves southwestward if neighbourSW exists (raster grid with hexagons or 8-neighbours squares), do not move otherwise</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">moveSW</span><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/and%253A.html">and:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourSW">neighbourSW</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourSW">neighbourSW</a></span></span></span></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/moveTo%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">moveTo:</p><div class="docstring"><div class="discussion"><p>Purpose: moves to a given location. Argument: aSpatialEntity = <a href="SpatialEntity"></a> Example: self <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/moveTo%253A.html">moveTo:</a> self patch neighbourN</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">moveTo:</span>&nbsp;<span class="stArgument">aSpatialEntity</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">alreadySituated</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aSpatialEntity</span></span>&nbsp;<a class="stSelector" href="../selector/list/isSpatialEntity.html">isSpatialEntity</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<a class="stNil" href="../class/UndefinedObject.html">nil</a></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">alreadySituated</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/isSituated">isSituated</a></span></span>.</span><br/><span class="stComment">Log the movementaSpatialEntity spaceModel <br/>		logMovementOf: self<br/>		from: patch<br/>		to: aSpatialEntity.   temporary inactivated<br/></span><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/leaveWhileMoving%253A">leaveWhileMoving:</a>&nbsp;<span class="stSendArgument"><a class="stTrue" href="../class/True.html">true</a></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch%253A">patch:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aSpatialEntity</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/occupants%253A">occupants:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ProtoObject.html#method/class">class</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Class.html#method/name">name</a></span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stSelf">self</span></span></span><span class="stComment">alreadySituated<br/>		ifFalse:<br/>			[&quot;&quot;the agent is arriving on the grid for the first time, the SpaceInterfaces should be aware&quot;&quot;<br/>			self currentSimulation<br/>				registerEntityChange: #newOccupant<br/>				with: (EntityReference on: aSpatialEntity)<br/>				from: (EntityReference on: self)]<br/>		ifTrue:<br/>			[self currentSimulation<br/>				registerEntityChange: #movingOccupant<br/>				with: (EntityReference on: aSpatialEntity)<br/>				from: (EntityReference on: self)]<br/></span></div></code></div></div><a name="method/moveTowards%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">moveTowards:</p><div class="docstring"><div class="discussion"><p>Purpose: moves one cell in direction of a given location. Argument: aCell = <a href="SpatialEntityElement"></a> Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/moveTowards%253A">moveTowards:</a> self house patch</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">moveTowards:</span>&nbsp;<span class="stArgument">aCell</span>&nbsp;<div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/isSituated">isSituated</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aCell</span></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/wayTo%253A.html">wayTo:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aCell</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/moveTowards%253AconstraintOnPath%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">moveTowards:constraintOnPath:</p><div class="docstring"><div class="discussion"><p>Purpose: moves one cell in direction of a given location, taking a specified constraint on each cell of the path to destination. Argument: aCell = <a href="SpatialEntityElement"></a> Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/moveTowards%253A">moveTowards:</a> self house patch constraintOnPath: <a>:c | c isClosed not</a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">moveTowards:</span>&nbsp;<span class="stArgument">aCell</span>&nbsp;<span class="stSelector">constraintOnPath:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/isSituated">isSituated</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aCell</span></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/wayTo%253Aconstraint%253A">wayTo:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aCell</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/wayTo%253Aconstraint%253A">constraint:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aBlock</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/moveW"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">moveW</p><div class="docstring"><div class="discussion"><p>Purpose: moves westward if neighbourW exists (raster grid), do not move otherwise</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">moveW</span><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/and%253A.html">and:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourW">neighbourW</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/neighbourW">neighbourW</a></span></span></span></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/nearestEmptyLocation"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestEmptyLocation</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest spatial entity with no occupant of any kind. The current location is NOT considered If none: returns nil; if more than one at the minimum radius: random selection Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;SpatialEntity | nil&gt;</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestEmptyLocation</span><div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/nearestEmptyCell">nearestEmptyCell</a></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestEmptyLocation%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestEmptyLocation:</p><div class="docstring"><div class="discussion"><p>DEPRECATED</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestEmptyLocation:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/nearestEmptyLocationWithinRadius%253A">nearestEmptyLocationWithinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span></div></code></div></div><a name="method/nearestEmptyLocationWithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestEmptyLocationWithinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest spatial entity within a given radius of the current location and with no occupant of any kind. The current location is NOT considered If none: returns nil; if more than one at the minimum radius: random selection Argument: range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;SpatialEntity | nil&gt;</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestEmptyLocationWithinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/nearestEmptyNeighborWithinRadius%253A">nearestEmptyNeighborWithinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestEmptyLocations"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestEmptyLocations</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest spatial entities with no occupant of any kind. The current location is NOT considered Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(SpatialEntity) | nil&gt;</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestEmptyLocations</span><div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/nearestEmptyCells">nearestEmptyCells</a></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestEmptyLocationsWithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestEmptyLocationsWithinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest spatial entities with no occupant of any kind and within a given radius of the current location. The current location is NOT considered Argument: range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(SpatialEntity) | nil&gt;</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestEmptyLocationsWithinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/nearestEmptyNeighborsWithinRadius%253A">nearestEmptyNeighborsWithinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestLocatedEntities%253Averifying%253AwithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestLocatedEntities:verifying:withinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest located entities of a given type withing a given radius of the current location and fulfilling a specified contraint. Arguments: locatedEntityName = &lt;Symbol | Class&gt; aBlock = <a href="BlockClosure"></a> range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(AgentLocation | ObjectLocation) | nil&gt; Example: self nearestLocatedEntities: #Predator verifying: <a>:a | a isHungry</a> withinRadius: self perceptionRangePredators</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestLocatedEntities:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<span class="stSelector">verifying:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<span class="stSelector">withinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/nearestLocatedEntities%253AwithinRadius%253A">nearestLocatedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/nearestLocatedEntities%253AwithinRadius%253A">withinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">e</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aBlock</span></span>&nbsp;<a class="stSelector" href="../selector/list/value%253A.html">value:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">e</span></span></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestLocatedEntities%253AwithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestLocatedEntities:withinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest located entities of a given type withing a given radius of the current location. Arguments: locatedEntityName = &lt;Symbol | Class&gt; range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(AgentLocation | ObjectLocation) | nil&gt; Example: self nearestLocatedEntities: #Predator withinRadius: self perceptionRangePredators</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestLocatedEntities:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<span class="stSelector">withinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">entities</span>&nbsp;<span class="stTempVariable">n</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/ifNil%253A.html">ifNil:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<a class="stNil" href="../class/UndefinedObject.html">nil</a></span></span>&nbsp;]</span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">entities</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">n</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><a class="stNumberLiteral" href="../class/SmallInteger.html">0</a></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">entities</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/and%253A.html">and:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">n</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253C%253D.html">&lt;=</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/BlockClosure.html#method/whileTrue%253A">whileTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">entities</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/locatedEntities%253AwithinRadius%253A">locatedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/locatedEntities%253AwithinRadius%253A">withinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">n</span></span></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">n</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">n</span></span>&nbsp;<a class="stSelector" href="../selector/list/%252B.html">+</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">1</a></span></span></span></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stReturn">^<span class="stTempVariable">entities</span></span></div></code></div></div><a name="method/nearestLocationVerifying%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestLocationVerifying:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest spatial entity fulfilling the constraint specified in aBlock. The current location is NOT considered If none: returns nil; if more than one at the minimum radius: random selection Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;SpatialEntity | nil&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/nearestLocationVerifying%253A">nearestLocationVerifying:</a> <a>:c | c isClosed not</a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestLocationVerifying:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/nearestCellVerifying%253A.html">nearestCellVerifying:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aBlock</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestLocationVerifying%253AwithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestLocationVerifying:withinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest spatial entity within a given radius of the current location and fulfilling the constraint specified in aBlock. The current location is NOT considered If none: returns nil; if more than one at the minimum radius: random selection Arguments: aBlock = <a href="BlockClosure"></a> range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;SpatialEntity | nil&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/nearestLocationVerifying%253A">nearestLocationVerifying:</a> <a>:c | c isClosed not</a> withinRadius: 5</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestLocationVerifying:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<span class="stSelector">withinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/nearestNeighborVerifying%253AwithinRadius%253A">nearestNeighborVerifying:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aBlock</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/nearestNeighborVerifying%253AwithinRadius%253A">withinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestLocationWithoutAny%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestLocationWithoutAny:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest spatial entity without any occupant of a given type. The current location is NOT considered If none: returns nil; if more than one at the minimum radius: random selection Arguments: locatedEntityName = &lt;Symbol | Class&gt; Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;SpatialEntityElement | nil&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/nearestLocationWithoutAny%253A">nearestLocationWithoutAny:</a> #Predator</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestLocationWithoutAny:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/nearestCellWithoutAny%253A">nearestCellWithoutAny:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestLocationWithoutAny%253AwithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestLocationWithoutAny:withinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest spatial entity in a given range without any occupant of a given type. The current location is NOT considered If none: returns nil; if more than one at the minimum radius: random selection Arguments: locatedEntityName = &lt;Symbol | Class&gt; range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;SpatialEntity | nil&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/nearestLocationWithoutAny%253A">nearestLocationWithoutAny:</a> #Predator withinRadius: self perceptionRangePredators </p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestLocationWithoutAny:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<span class="stSelector">withinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/nearestNeighborWithoutAny%253AwithinRadius%253A">nearestNeighborWithoutAny:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/nearestNeighborWithoutAny%253AwithinRadius%253A">withinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestLocationsVerifying%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestLocationsVerifying:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest spatial entities fulfilling the constraint specified in aBlock. The current location is NOT considered Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(SpatialEntity) | nil&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/nearestLocationsVerifying%253A">nearestLocationsVerifying:</a> <a>:c | c isClosed not</a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestLocationsVerifying:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/nearestCellsVerifying%253A">nearestCellsVerifying:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aBlock</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestLocationsVerifying%253AwithMaxOf%253AwithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestLocationsVerifying:withMaxOf:withinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest spatial entities within a given radius of the current location with the maximum value of a given magnitude and verifying a specified condition . The current location is NOT considered Arguments: aMagnitudeName = <a href="ByteSymbol"></a> aCondition = <a href="BlockClosure"></a> range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(SpatialEntity) | nil&gt; Example: self nearestLocationsWithMaxOf: #water verifying: <a>:c | c isPolluted not</a> withinRadius: 5</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestLocationsVerifying:</span>&nbsp;<span class="stArgument">aCondition</span>&nbsp;<span class="stSelector">withMaxOf:</span>&nbsp;<span class="stArgument">aMagnitudeName</span>&nbsp;<span class="stSelector">withinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/nearestNeighborsVerifying%253AwithMaxOf%253AwithinRadius%253A">nearestNeighborsVerifying:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aCondition</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/nearestNeighborsVerifying%253AwithMaxOf%253AwithinRadius%253A">withMaxOf:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aMagnitudeName</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/nearestNeighborsVerifying%253AwithMaxOf%253AwithinRadius%253A">withinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestLocationsVerifying%253AwithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestLocationsVerifying:withinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest spatial entities within a given radius of the current location and fulfilling the constraint specified in aBlock. The current location is NOT considered Arguments: aBlock = <a href="BlockClosure"></a> range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(SpatialEntity) | nil&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/nearestLocationsVerifying%253A">nearestLocationsVerifying:</a> <a>:c | c isClosed not</a> withinRadius: 5</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestLocationsVerifying:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<span class="stSelector">withinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/nearestNeighborsVerifying%253AwithinRadius%253A">nearestNeighborsVerifying:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aBlock</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/nearestNeighborsVerifying%253AwithinRadius%253A">withinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestLocationsWithMaxOf%253AwithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestLocationsWithMaxOf:withinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest spatial entities within a given radius of the current location with the maximum value of a given magnitude. The current location is NOT considered Arguments: aMagnitudeName = <a href="ByteSymbol"></a> range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(SpatialEntity) | nil&gt; Example: self nearestLocationsWithMaxOf: #water verifying: <a>:c | c isPolluted not</a> withinRadius: 5</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestLocationsWithMaxOf:</span>&nbsp;<span class="stArgument">aMagnitudeName</span>&nbsp;<span class="stSelector">withinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/nearestNeighborsWithMaxOf%253AwithinRadius%253A">nearestNeighborsWithMaxOf:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aMagnitudeName</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/nearestNeighborsWithMaxOf%253AwithinRadius%253A">withinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestLocationsWithoutAny%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestLocationsWithoutAny:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest spatial entities without any occupant of a given type. The current location is NOT considered Arguments: locatedEntityName = &lt;Symbol | Class&gt; Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(SpatialEntityElement) | nil&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/nearestLocationsWithoutAny%253A">nearestLocationsWithoutAny:</a> #Predator</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestLocationsWithoutAny:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/nearestCellsWithoutAny%253A">nearestCellsWithoutAny:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestLocationsWithoutAny%253AwithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestLocationsWithoutAny:withinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest spatial entity in a given range without any occupant of a given type. The current location is NOT considered Arguments: locatedEntityName = &lt;Symbol | Class&gt; range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(SpatialEntity) | nil&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/nearestLocationsWithoutAny%253A">nearestLocationsWithoutAny:</a> #Predator withinRadius: self perceptionRangePredators </p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestLocationsWithoutAny:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<span class="stSelector">withinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/nearestNeighborsWithoutAny%253AwithinRadius%253A">nearestNeighborsWithoutAny:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/nearestNeighborsWithoutAny%253AwithinRadius%253A">withinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestSimilarAgentWithingRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestSimilarAgentWithingRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: picks RANDOMLY one among the nearest receiver-like entities located withing a given radius of the receiver current location. If none: returns nil; if more than one: random selection Argument: range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;AgentLocation | nil&gt; Example: self nearestSimilarAgentWithinRadius: 2</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestSimilarAgentWithingRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">candidates</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">candidates</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/nearestSimilarAgentsWithinRadius%253A">nearestSimilarAgentsWithinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span>.</span><br/><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">candidates</span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/or%253A.html">or:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">candidates</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Cormas.html">Cormas</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Cormas.html#class/method/selectRandomlyFrom%253A">selectRandomlyFrom:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">candidates</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/nearestSimilarAgentsVerifying%253AwithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestSimilarAgentsVerifying:withinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest receiver-like instances located withing a given radius of the receiver location and fulfilling a specified constraint Arguments: aBlock = <a href="BlockClosure"></a> range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> <a href="Collection(AgentLocation)"></a> Example: self nearestSimilarAgentsVerifying: <a>:a | a sex ~= self sex</a> withinRadius: self pheromonePerceptionRange</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestSimilarAgentsVerifying:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<span class="stSelector">withinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/nearestLocatedEntities%253Averifying%253AwithinRadius%253A">nearestLocatedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ProtoObject.html#method/class">class</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Class.html#method/name">name</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/nearestLocatedEntities%253Averifying%253AwithinRadius%253A">verifying:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aBlock</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/nearestLocatedEntities%253Averifying%253AwithinRadius%253A">withinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span></div></code></div></div><a name="method/nearestSimilarAgentsWithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">nearestSimilarAgentsWithinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the nearest receiver-like entities located withing a given radius of the receiver current location. Argument: lrange = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(AgentLocation) | nil&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/nearestSimilarAgentsWithinRadius%253A">nearestSimilarAgentsWithinRadius:</a> 2</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">nearestSimilarAgentsWithinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/nearestLocatedEntities%253AwithinRadius%253A">nearestLocatedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ProtoObject.html#method/class">class</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Class.html#method/name">name</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/nearestLocatedEntities%253AwithinRadius%253A">withinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span></div></code></div></div><a name="method/neighboringLocations"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">neighboringLocations</p><div class="docstring"><div class="discussion"><p>Purpose: return direct neighbours of current location The current location is NOT considered Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(SpatialEntity) | nil&gt;</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">neighboringLocations</span><div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/neighboringLocationsVerifying%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">neighboringLocationsVerifying:</p><div class="docstring"><div class="discussion"><p>Purpose: returns direct neighbours of current location fulfilling the constraint specified in aBlock. The current location is NOT considered Argument: aBlock = <a href="BlockClosure"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(SpatialEntity) | nil&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/neighboringLocationsVerifying%253A">neighboringLocationsVerifying:</a> <a>:c | c isClosed not</a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">neighboringLocationsVerifying:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aBlock</span></span>&nbsp;<a class="stSelector" href="../selector/list/value%253A.html">value:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">c</span></span></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/neighbouringLocatedEntities%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">neighbouringLocatedEntities:</p><div class="docstring"><div class="discussion"><p>Purpose: returns all entities of a given type located in the direct neighbourhood of the receiver current location. The co-located entities are not considered here (for that, use locatedEntities: locatedEntityName withinRadius: 1) Arguments: locatedEntityName = &lt;Symbol | Class&gt; Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(AgentLocation | ObjectLocation)&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/neighbouringLocatedEntities%253A">neighbouringLocatedEntities:</a> #Predator</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">neighbouringLocatedEntities:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">collec</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/ifNil%253A.html">ifNil:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<a class="stNil" href="../class/UndefinedObject.html">nil</a></span></span>&nbsp;]</span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">collec</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">collec</span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/occupantsAt%253A">occupantsAt:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span>)</span></span></span></span>&nbsp;]</span></span>.</span><br/><span class="stReturn">^<span class="stTempVariable">collec</span></span></div></code></div></div><a name="method/neighbouringLocatedEntities%253Averifying%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">neighbouringLocatedEntities:verifying:</p><div class="docstring"><div class="discussion"><p>Purpose: returns all entities of a given type located in the direct neighbourhood of the receiver current location and verifying a specified condition. The co-located entities are not considered here (for that, use locatedEntities: locatedEntityName verifying: aCondition withinRadius: 1) Arguments: locatedEntityName = &lt;Symbol | Class&gt; aCondition = <a href="BlockClosure"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> &lt;Collection(AgentLocation | ObjectLocation)&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/neighbouringLocatedEntities%253A">neighbouringLocatedEntities:</a> #Prey verifying: <a>:p | p isWeak</a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">neighbouringLocatedEntities:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<span class="stSelector">verifying:</span>&nbsp;<span class="stArgument">aCondition</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/neighbouringLocatedEntities%253A">neighbouringLocatedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">e</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCondition</span></span>&nbsp;<a class="stSelector" href="../selector/list/value%253A.html">value:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">e</span></span></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/neighbouringSimilarAgents"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">neighbouringSimilarAgents</p><div class="docstring"><div class="discussion"><p>Purpose: returns all receiver-like entities located in the direct neighbourhood of the receiver current location. The co-located entities are not considered here (#neighbouringSimilarAgents is equivalent to <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/similarAgentsWithinRadius%253A">#similarAgentsWithinRadius:</a> 1) Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> <a href="Collection(AgentLocation)"></a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">neighbouringSimilarAgents</span><div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/neighbouringLocatedEntities%253A">neighbouringLocatedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ProtoObject.html#method/class">class</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Class.html#method/name">name</a></span></span></span></span></div></code></div></div><a name="method/neighbouringSimilarAgentsVerifying%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">neighbouringSimilarAgentsVerifying:</p><div class="docstring"><div class="discussion"><p>Purpose: returns all receiver-like entities located in the direct neighbourhood of the receiver current location and verifying a specified condition. The co-located entities are not considered here (#neighbouringSimilarAgentsVerifying: aCondition is equivalent to #similarAgentsVerifying: aCondition withinRadius: 1) Argument: aCondition = <a href="BlockClosure"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> <a href="Collection(AgentLocation)"></a> Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/neighbouringSimilarAgentsVerifying%253A">neighbouringSimilarAgentsVerifying:</a> <a>:a | a sex ~= self sex</a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">neighbouringSimilarAgentsVerifying:</span>&nbsp;<span class="stArgument">aCondition</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/neighbouringSimilarAgents">neighbouringSimilarAgents</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">e</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCondition</span></span>&nbsp;<a class="stSelector" href="../selector/list/value%253A.html">value:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">e</span></span></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/patch"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">patch</p><div class="docstring"><div class="discussion"></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">patch</span><div class="stIndent"><span class="stReturn">^<a class="stInstanceVariable" href="../popup/class%2FCMAgentLocationinstanceVariable/patch.html">patch</a></span></div></code></div></div><a name="method/patch%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">patch:</p><div class="docstring"><div class="discussion"></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">patch:</span>&nbsp;<span class="stArgument">unPatch</span>&nbsp;<div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><a class="stInstanceVariable" href="../popup/class%2FCMAgentLocationinstanceVariable/patch.html">patch</a></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stArgument">unPatch</span></span></span></div></code></div></div><a name="method/patchID"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">patchID</p><div class="docstring"><div class="discussion"><p>Purpose: returns ID of patch Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> <a href="Integer"></a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">patchID</span><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/ifNil%253A.html">ifNil:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<a class="stNumberLiteral" href="../class/SmallInteger.html">0</a></span></span>&nbsp;]</span></span>.</span><br/><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/id.html">id</a></span></span></div></code></div></div><a name="method/perceivedCellsWithinRange%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">perceivedCellsWithinRange:</p><div class="docstring"><div class="discussion"><p>DEPRECATED</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">perceivedCellsWithinRange:</span>&nbsp;<span class="stArgument">anInteger</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/locationsWithinRadius%253A">locationsWithinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">anInteger</span></span></span></span></div></code></div></div><a name="method/perceivedEntities%253AwithinRange%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">perceivedEntities:withinRange:</p><div class="docstring"><div class="discussion"><p>DEPRECATED</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">perceivedEntities:</span>&nbsp;<span class="stArgument">locatedEntityName</span>&nbsp;<span class="stSelector">withinRange:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/locatedEntities%253AwithinRadius%253A">locatedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">locatedEntityName</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/locatedEntities%253AwithinRadius%253A">withinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span></div></code></div></div><a name="method/perceivedSimilarAgentsWithinRange%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">perceivedSimilarAgentsWithinRange:</p><div class="docstring"><div class="discussion"><p>DEPRECATED</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">perceivedSimilarAgentsWithinRange:</span>&nbsp;<span class="stArgument">aRayon</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/similarAgentsWithinRadius%253A">similarAgentsWithinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aRayon</span></span></span></span></div></code></div></div><a name="method/perception%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">perception:</p><div class="docstring"><div class="discussion"><p>Return a collection of cells belonging to aRayon (it contains also its current patch)</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">perception:</span>&nbsp;<span class="stArgument">aRayon</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/locationsWithinRadius%253A">locationsWithinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aRayon</span></span></span></span></div></code></div></div><a name="method/randomJump"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">randomJump</p><div class="docstring"><div class="discussion"><p>Purpose: moves to a spatial entity randomly picked from the whole grid patch ifNil: <a>^nil</a>.</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">randomJump</span><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><a class="stClassLiteral" href="../class/Cormas.html">Cormas</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Cormas.html#class/method/selectRandomlyFrom%253A">selectRandomlyFrom:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><a class="stInstanceVariable" href="../popup/class%2FCMAgentLocationinstanceVariable/patch.html">patch</a></span>&nbsp;<a class="stSelector" href="../selector/list/grid.html">grid</a></span></span>)</span></span></span></div></code></div></div><a name="method/randomWalk"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">randomWalk</p><div class="docstring"><div class="discussion"><p>Purpose: moves to a spatial entity randomly picked from the direct neighbourhood (relative distance = 1) of the current location </p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">randomWalk</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">destination</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><a class="stInstanceVariable" href="../popup/class%2FCMAgentLocationinstanceVariable/patch.html">patch</a></span>&nbsp;<a class="stSelector" href="../selector/list/ifNil%253A.html">ifNil:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<a class="stNil" href="../class/UndefinedObject.html">nil</a></span></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><a class="stInstanceVariable" href="../popup/class%2FCMAgentLocationinstanceVariable/patch.html">patch</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/or%253A.html">or:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><a class="stInstanceVariable" href="../popup/class%2FCMAgentLocationinstanceVariable/patch.html">patch</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Object.html#method/halt">halt</a></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">destination</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Cormas.html">Cormas</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Cormas.html#class/method/selectRandomlyFrom%253A">selectRandomlyFrom:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><a class="stInstanceVariable" href="../popup/class%2FCMAgentLocationinstanceVariable/patch.html">patch</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">destination</span></span></span></div></code></div></div><a name="method/randomWalk%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">randomWalk:</p><div class="docstring"><div class="discussion"><p>Purpose: moves to aSpatialEntityElement randomly picked among a radius. Argument: radius = &lt;positive Integer&gt; Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/randomWalk%253A">randomWalk:</a> 2 </p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">randomWalk:</span>&nbsp;<span class="stArgument">radius</span>&nbsp;<div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><a class="stClassLiteral" href="../class/Cormas.html">Cormas</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Cormas.html#class/method/selectRandomlyFrom%253A">selectRandomlyFrom:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/recursiveNeighbourhood%253A">recursiveNeighbourhood:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">radius</span></span>)</span></span>)</span></span></span></div></code></div></div><a name="method/randomWalkConstrainedBy%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">randomWalkConstrainedBy:</p><div class="docstring"><div class="discussion"><p>Purpose: moves to aSpatialEntityElement randomly picked among the direct neighbours (relative distance = 1) fulfilling the constraint specified in aBlock.  If there is no neighbouring cells fulfilling the constraint, the agent does not move. Argument: aBlock = <a href="BlockClosure"></a> Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/randomWalkConstrainedBy%253A">randomWalkConstrainedBy:</a> <a>:c | c noOccupant</a> </p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">randomWalkConstrainedBy:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">destination</span>&nbsp;<span class="stTempVariable">destinations</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><a class="stInstanceVariable" href="../popup/class%2FCMAgentLocationinstanceVariable/patch.html">patch</a></span>&nbsp;<a class="stSelector" href="../selector/list/ifNil%253A.html">ifNil:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<a class="stNil" href="../class/UndefinedObject.html">nil</a></span></span>&nbsp;]</span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">destinations</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><a class="stInstanceVariable" href="../popup/class%2FCMAgentLocationinstanceVariable/patch.html">patch</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aBlock</span></span>&nbsp;<a class="stSelector" href="../selector/list/value%253A.html">value:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">c</span></span></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">destinations</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stSelf">self</span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">destination</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Cormas.html">Cormas</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Cormas.html#class/method/selectRandomlyFrom%253A">selectRandomlyFrom:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">destinations</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">destination</span></span></span></div></code></div></div><a name="method/representBinaryOn33%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">representBinaryOn33:</p><div class="docstring"><div class="discussion"><p>This method is called from <a class="stClassLiteral" href="class/CMAgentLocation.html/class/CormasModel.html">CormasModel</a> #saveBOS: aCollection into: aFileName to save a collection of agents using BOSS. Thus, each class to be saved must redefine this method. The basic approach is to create an instance method named <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/representBinaryOn%253A.html">representBinaryOn:</a> in the class whose BOSS representation you want to customize. The method typically returns a <a class="stClassLiteral" href="class/CMAgentLocation.html/class/MessageSend.html">MessageSend</a>, which is created by sending a receiver:selector:arguments: message to that class. The receiver argument identifies the class that is to create an instance, typically the object's class. The selector argument is the name of the instance-creation method that is to be used when the data is read by BOSS. The arguments argument is a collection of data values, typically the values of the object's instance variables. Exemple of redefinition: we want to save the attributs 'name' and 'cashbox' of an agent : <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/representBinaryOn%253A.html">representBinaryOn:</a> aBOSSWriter | msg | msg := super <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/representBinaryOn%253A.html">representBinaryOn:</a> aBOSSWriter. msg arguments first <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/add%253A.html">add:</a> self name; <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/add%253A.html">add:</a> self cashbox. ^msg</p><p>To load Boss object, boss will call a class method: <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/newBoss%253A.html">#newBoss:</a>. To redefine <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/newBoss%253A.html">newBoss:</a> it could be as following: <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/newBoss%253A.html">newBoss:</a> attributList | ag | ag := super <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/newBoss%253A.html">newBoss:</a> (attributList <a class="stSelector" href="class/CMAgentLocation.html/class/VectorialFigure.html#class/method/copyFrom%253A">copyFrom:</a> 1 to: 3). 3 timesRepeat: <a>attributList removeFirst</a>. attributList <a class="stSelector" href="class/CMAgentLocation.html/class/XMLModel.html#class/method/with%253A">with:</a> #(#name: #cashbox:) do: <a>:array1Element :array2Element | ag perform: array2Element with: array1Element</a>.</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">representBinaryOn33:</span>&nbsp;<span class="stArgument">aBOSSWriter</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">msg</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">msg</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSuper">super</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../selector/list/representBinaryOn%253A.html">representBinaryOn:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aBOSSWriter</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">msg</span></span>&nbsp;<a class="stSelector" href="../selector/list/arguments.html">arguments</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span></span></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">msg</span></span>&nbsp;<a class="stSelector" href="../selector/list/arguments.html">arguments</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/id.html">id</a></span></span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stReturn">^<span class="stTempVariable">msg</span></span></div></code></div></div><a name="method/similarAgentsVerifying%253AwithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">similarAgentsVerifying:withinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the receiver-like instances located withing a given radius of the receiver location and fulfilling a specified constraint Arguments: aBlock = <a href="BlockClosure"></a> range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> <a href="Collection(AgentLocation)"></a> Example: self similarAgentsVerifying: <a>:a | a sex ~= self sex</a> withinRadius: self pheromonePerceptionRange</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">similarAgentsVerifying:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<span class="stSelector">withinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/locatedEntities%253Averifying%253AwithinRadius%253A">locatedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ProtoObject.html#method/class">class</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Class.html#method/name">name</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/locatedEntities%253Averifying%253AwithinRadius%253A">verifying:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aBlock</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/locatedEntities%253Averifying%253AwithinRadius%253A">withinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/similarAgentsWithinRadius%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">similarAgentsWithinRadius:</p><div class="docstring"><div class="discussion"><p>Purpose: returns the receiver-like instances located withing a given radius of the receiver location Argument: range = <a href="Integer"></a> Return <a class="stSymbolLiteral" href="class/CMAgentLocation.html/selector/list/value%253A.html">value:</a> <a href="Collection(AgentLocation)"></a> Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/similarAgentsWithinRadius%253A">similarAgentsWithinRadius:</a> 3</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">similarAgentsWithinRadius:</span>&nbsp;<span class="stArgument">range</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/locatedEntities%253AwithinRadius%253A">locatedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ProtoObject.html#method/class">class</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Class.html#method/name">name</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/locatedEntities%253AwithinRadius%253A">withinRadius:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">range</span></span></span></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/walkToMaxOf%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">walkToMaxOf:</p><div class="docstring"><div class="discussion"><p>Purpose: moves to the spatial entity in the direct neighbourhood (relative distance = 1) with the higher value for a given magnitude. In case several destinations share the same maximum value, the tie is randomly broken. Argument: aSymbol = <a href="Symbol"></a>, most commoly the name of an attribute, it can also be the name of any function returning a magniture Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/walkToMaxOf%253A">walkToMaxOf:</a> #sugar</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">walkToMaxOf:</span>&nbsp;<span class="stArgument">aSymbol</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">destination</span>&nbsp;<span class="stTempVariable">destinations</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">destinations</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/perform%253A.html">perform:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aSymbol</span></span>)</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Object.html#method/respondsTo%253A">respondsTo:</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/%253E.html">#'&gt;'</a></span></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">destinations</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">destinations</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/asSortedCollection%253A.html">asSortedCollection:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">i</span>&nbsp;:<span class="stTempVariable">j</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">i</span></span>&nbsp;<a class="stSelector" href="../selector/list/perform%253A.html">perform:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aSymbol</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253E.html">&gt;</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">j</span></span>&nbsp;<a class="stSelector" href="../selector/list/perform%253A.html">perform:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aSymbol</span></span>)</span></span></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">destinations</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">destinations</span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/perform%253A.html">perform:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aSymbol</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">destinations</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/perform%253A.html">perform:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aSymbol</span></span>)</span></span></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">destination</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Cormas.html">Cormas</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Cormas.html#class/method/selectRandomlyFrom%253A">selectRandomlyFrom:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">destinations</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">destination</span></span></span></div></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/walkToMaxOf%253AconstrainedBy%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">walkToMaxOf:constrainedBy:</p><div class="docstring"><div class="discussion"><p>Purpose: moves to the spatial entity in the direct neighbourhood (relative distance = 1) with the higher value for a given magnitude and fulfilling the constraint specified in aBlock. In case several possible destinations share the same maximum value, the tie is randomly broken. Arguments:aSymbol = <a href="Symbol"></a>, most commoly the name of an attribute, it can also be the name of any function returning a magniture aBlock = <a href="BlockClosure"></a> Example: self <a class="stSelector" href="class/CMAgentLocation.html/class/CMAgentLocation.html#method/walkToMaxOf%253A">walkToMaxOf:</a> #sugar constrainedBy: <a>:c | c noOccupant</a> </p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">walkToMaxOf:</span>&nbsp;<span class="stArgument">aSymbol</span>&nbsp;<span class="stSelector">constrainedBy:</span>&nbsp;<span class="stArgument">aBlock</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">destination</span>&nbsp;<span class="stTempVariable">destinations</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">destinations</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/patch">patch</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/perform%253A.html">perform:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aSymbol</span></span>)</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Object.html#method/respondsTo%253A">respondsTo:</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/%253E.html">#'&gt;'</a></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/and%253A.html">and:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aBlock</span></span>&nbsp;<a class="stSelector" href="../selector/list/value%253A.html">value:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">c</span></span></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">destinations</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stSelf">self</span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">destinations</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">destinations</span></span>&nbsp;<a class="stSelector" href="../selector/list/asSortedCollection%253A.html">asSortedCollection:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">i</span>&nbsp;:<span class="stTempVariable">j</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">i</span></span>&nbsp;<a class="stSelector" href="../selector/list/perform%253A.html">perform:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aSymbol</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253E.html">&gt;</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">j</span></span>&nbsp;<a class="stSelector" href="../selector/list/perform%253A.html">perform:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aSymbol</span></span>)</span></span></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">destinations</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">destinations</span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/perform%253A.html">perform:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aSymbol</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">destinations</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/perform%253A.html">perform:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aSymbol</span></span>)</span></span></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">destination</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Cormas.html">Cormas</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Cormas.html#class/method/selectRandomlyFrom%253A">selectRandomlyFrom:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">destinations</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMAgentLocation.html#method/moveTo%253A">moveTo:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">destination</span></span></span></div></code></div></div></div></div><script type="text/javascript">function onLoad(){};</script></body></html>