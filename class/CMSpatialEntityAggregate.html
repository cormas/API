<html><head><title>CMSpatialEntityAggregate</title><link rel="stylesheet" type="text/css" href="../files/common.css"/><link rel="stylesheet" type="text/css" href="../files/stcode.css"/><link rel="stylesheet" type="text/css" href="../files/style.css"/><link rel="stylesheet" type="text/css" href="../files/vtip.css"/><link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"/><script>
document.WEBDOC_RELATIVE_DOCUMENT_ROOT ="../..";
document.WEBDOC_PHARO_VERSION ="'6.0'";
</script><script src="../files/jQuery.js"></script><script src="../files/jQueryUi.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script><script src="../files/app.js"></script></head><body onload="onLoad()"><div id="header"><form accept-charset="utf-8" method="get" action="/" class="hidden" id="search"><div class="searchInput">Search: <input accesskey="s" placeholder="search" name="4" id="search_box" size="30" value="" onkeyup="$.ajax({&quot;url&quot;:&quot;/&quot;,&quot;data&quot;:[&quot;1&quot;,&quot;2=&quot;+encodeURIComponent($(&quot;#search_box&quot;).val())].join(&quot;&amp;&quot;)});$(&quot;#searchResults&quot;).load(&quot;/&quot;,&quot;3&quot;)" type="search"/></div><div id="searchResults"></div><div></div></form></div><div id="content"><h1 class="className">CMSpatialEntityAggregate</h1><div class="source_code"><code class="methodSource"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/CMSpatialEntitySet.html">CMSpatialEntitySet</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Class.html#method/subclass%253AinstanceVariableNames%253AclassVariableNames%253ApoolDictionaries%253Acategory%253A">subclass:</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/CMSpatialEntityAggregate.html">#'CMSpatialEntityAggregate'</a></span>&nbsp;<div class="stIndent"><a class="stFixedSelector stSelector" href="../class/Class.html#method/subclass%253AinstanceVariableNames%253AclassVariableNames%253ApoolDictionaries%253Acategory%253A">instanceVariableNames:</a>&nbsp;<span class="stSendArgument"><a class="stStringLiteral" href="../class/ByteString.html">'compactness givenSize'</a></span>&nbsp;</div><div class="stIndent"><a class="stFixedSelector stSelector" href="../class/Class.html#method/subclass%253AinstanceVariableNames%253AclassVariableNames%253ApoolDictionaries%253Acategory%253A">classVariableNames:</a>&nbsp;<span class="stSendArgument"><a class="stStringLiteral" href="../class/ByteString.html">''</a></span>&nbsp;</div><div class="stIndent"><a class="stFixedSelector stSelector" href="../class/Class.html#method/subclass%253AinstanceVariableNames%253AclassVariableNames%253ApoolDictionaries%253Acategory%253A">poolDictionaries:</a>&nbsp;<span class="stSendArgument"><a class="stStringLiteral" href="../class/ByteString.html">''</a></span>&nbsp;</div><div class="stIndent"><a class="stFixedSelector stSelector" href="../class/Class.html#method/subclass%253AinstanceVariableNames%253AclassVariableNames%253ApoolDictionaries%253Acategory%253A">category:</a>&nbsp;<span class="stSendArgument"><a class="stStringLiteral" href="../class/ByteString.html">'Cormas-Core-Entities'</a></span></div></span></code></div><div class="classComment"><h2 class="title">Overview</h2><div class="docString"><p><a class="stClassLiteral" href="class/CMSpatialEntityAggregate.html/class/Instance.html">Instance</a> Variables: compactness<a href="Float"></a>  4* pi *area / perimeter squared givenSize<a href="Integer"></a>  fixed number of components</p></div></div><div class="instanceMethodDetail methodDetail"><h2 class="title">Instance Method Details</h2><a name="method/compactness"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">compactness</p><div class="docstring"><div class="discussion"><p>(4* pi *area / perimeter squared)</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">compactness</span><div class="stIndent"><span class="stReturn">^<a class="stInstanceVariable" href="../popup/class%2FCMSpatialEntityAggregateinstanceVariable/compactness.html">compactness</a></span></div></code></div></div><a name="method/compactness%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">compactness:</p><div class="docstring"><div class="discussion"></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">compactness:</span>&nbsp;<span class="stArgument">uneValeur</span>&nbsp;<div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><a class="stInstanceVariable" href="../popup/class%2FCMSpatialEntityAggregateinstanceVariable/compactness.html">compactness</a></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stArgument">uneValeur</span></span></span></div></code></div></div><a name="method/connexityTest"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">connexityTest</p><div class="docstring"><div class="discussion"><p>teste si les cellules de l' agreg (self) sont ttes connexes: a partir d'une cellule quelconque de l'agreg, la procedure determine un Agregat (agreg2). Retourne la liste des cells de l'agreg qui n'appartiennent pas a agreg2. Si cette liste est vide = ok</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">connexityTest</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">agreg2</span>&nbsp;<span class="stTempVariable">listeVoisins</span>&nbsp;<span class="stTempVariable">listTempo</span>&nbsp;<span class="stTempVariable">test</span>&nbsp;<span class="stTempVariable">agreg1</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">test</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">agreg1</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Set.html">Set</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/HashedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">agreg1</span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components">components</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">agreg1</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/flag%253A.html">flag:</a>&nbsp;<span class="stSendArgument"><a class="stFalse" href="../class/False.html">false</a></span></span></span>&nbsp;]</span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">agreg2</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Set.html">Set</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/HashedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">agreg2</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/at%253A">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">1</a></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/flag%253A.html">flag:</a>&nbsp;<span class="stSendArgument"><a class="stTrue" href="../class/True.html">true</a></span>)</span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">listeVoisins</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stTempVariable">agreg2</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">listeVoisins</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;]</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/BlockClosure.html#method/whileFalse%253A">whileFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">listTempo</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Set.html">Set</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/HashedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">listeVoisins</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">cell</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">listTempo</span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">cell</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">v</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">agreg1</span></span>&nbsp;<a class="stSelector" href="../selector/list/includes%253A.html">includes:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">v</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/and%253A.html">and:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">v</span></span>&nbsp;<a class="stSelector" href="../selector/list/flag.html">flag</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stFalse" href="../class/False.html">false</a></span></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span>)</span></span></span></span>&nbsp;]</span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">listeVoisins</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stTempVariable">listTempo</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">listeVoisins</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/flag%253A.html">flag:</a>&nbsp;<span class="stSendArgument"><a class="stTrue" href="../class/True.html">true</a></span></span></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">agreg2</span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">listeVoisins</span></span></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">agreg2</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/flag%253A.html">flag:</a>&nbsp;<span class="stSendArgument"><a class="stFalse" href="../class/False.html">false</a></span></span></span>&nbsp;]</span></span>.</span><br/><span class="stComment">tester uniquement sur la taille ne suffit pas :<br/></span><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">test</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">agreg1</span></span>&nbsp;<a class="stSelector" href="../selector/list/-.html">-</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">agreg2</span></span></span></span>.</span><br/><span class="stReturn">^<span class="stTempVariable">test</span></span></div></code></div></div><a name="method/deleteComponents%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">deleteComponents:</p><div class="docstring"><div class="discussion"><p>Purpose: removes a given set of components and tests if some components have effectively been removed before computing the surround again Argument: aCollec = <a href="Collection(SpatialEntity)"></a> Example: self <a class="stSelector" href="class/CMSpatialEntityAggregate.html/class/CMSpatialEntitySet.html#method/removeComponents%253A">removeComponents:</a> self getEpidermis</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">deleteComponents:</span>&nbsp;<span class="stArgument">aCollec</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">initialSize</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">initialSize</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components">components</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span>.</span><br/><span class="stComment">aCollec do: [:c | self components remove: c ifAbsent: []].NB 2014-04-11-&gt;previous line replaced by the following because some elements are not removed with the previous method<br/></span><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components%253A">components:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components">components</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/-.html">-</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aCollec</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollec</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/compoundSpatialClasses.html">compoundSpatialClasses</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253Aput%253A.html">at:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ProtoObject.html#method/class">class</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Class.html#method/name">name</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253Aput%253A.html">put:</a>&nbsp;<span class="stSendArgument"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span></span></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">initialSize</span></span>&nbsp;<a class="stSelector" href="../selector/list/~%253D.html">~=</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components">components</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/setSurround">setSurround</a></span></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/displaySegment%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">displaySegment:</p><div class="docstring"><div class="discussion"></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">displaySegment:</span>&nbsp;<span class="stArgument">aDirection</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">readAccessSelector</span>&nbsp;<span class="stTempVariable">aGC</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">aGC</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../selector/list/graphicsContext.html">graphicsContext</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">aGC</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/TxHighlightRenderer.html#method/paint%253A">paint:</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/black.html">#'black'</a></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">readAccessSelector</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><a class="stStringLiteral" href="../class/ByteString.html">'lineSegment'</a></span>&nbsp;<a class="stSelector" href="../selector/list/%252C.html">,</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aDirection</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/asSymbol.html">asSymbol</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Object.html#method/perform%253A">perform:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">readAccessSelector</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Object.html#method/perform%253A">perform:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">readAccessSelector</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/displayStrokedOn%253A.html">displayStrokedOn:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">aGC</span></span></span></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/distSurroundAggregatePixel%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">distSurroundAggregatePixel:</p><div class="docstring"><div class="discussion"><p>Deprecated</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">distSurroundAggregatePixel:</span>&nbsp;<span class="stArgument">anAg</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">distMin</span>&nbsp;<span class="stTempVariable">dist</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">distMin</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/at%253A">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">1</a></span>)</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/distCenter%253A">distCenter:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stArgument">anAg</span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253A.html">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">1</a></span>)</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/surround">surround</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">a</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">anAg</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/surround">surround</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">b</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">dist</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">a</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/distCenter%253A">distCenter:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">b</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">dist</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253C.html">&lt;</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">distMin</span></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">distMin</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stTempVariable">dist</span></span></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stReturn">^<span class="stTempVariable">distMin</span></span></div></code></div></div><a name="method/getEndodermis"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">getEndodermis</p><div class="docstring"><div class="discussion"><p>Returns a collection of collections of cells belonging to the 'endodermis skin' of the aggregate</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">getEndodermis</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">collections</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">collections</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/getSkins">getSkins</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/removeFirst.html">removeFirst</a></span></span>.</span><br/><span class="stReturn">^<span class="stTempVariable">collections</span></span></div></code></div></div><a name="method/getSkin"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">getSkin</p><div class="docstring"><div class="discussion"><p>clp feb 2001 renvoie les cellules en lisiere interne</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">getSkin</span><div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components">components</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/contains%253A.html">contains:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">n</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components">components</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/includes%253A.html">includes:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">n</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/or%253A.html">or:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/edge.html">edge</a></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span></span></span></div></code></div></div><a name="method/getSkinE"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">getSkinE</p><div class="docstring"><div class="discussion"><p>Returns a collection of cells belonging to the 'internal skin' of the aggregate</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">getSkinE</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">elementaryComponents</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">elementaryComponents</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/elementaryComponents">elementaryComponents</a></span></span>.</span><br/><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stTempVariable">elementaryComponents</span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/contains%253A.html">contains:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">n</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">elementaryComponents</span></span>&nbsp;<a class="stSelector" href="../selector/list/includes%253A.html">includes:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">n</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/or%253A.html">or:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/edge.html">edge</a></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span></span></span></div></code></div></div><a name="method/getSkinNew"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">getSkinNew</p><div class="docstring"><div class="discussion"><p>clp feb 2001 renvoie les cellules en lisiere interne</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">getSkinNew</span><div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components">components</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/contains%253A.html">contains:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">n</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components">components</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/includes%253A.html">includes:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">n</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span></span></span></div></code></div></div><a name="method/getSkinOld"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">getSkinOld</p><div class="docstring"><div class="discussion"><p>clp mars 2000 renvoie les cellules en lisiere interne</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">getSkinOld</span><div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components">components</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">n</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components">components</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/includes%253A.html">includes:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">n</span></span></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253C.html">&lt;</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/orderedNeighbourhood">orderedNeighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span></span></span>&nbsp;]</span></span></span></span></div></code></div></div><a name="method/getSkins"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">getSkins</p><div class="docstring"><div class="discussion"><p>Returns a collection of collections of connected cells belonging to the 'internal skin' of the aggregate The first coll contains the 'first' cell of the aggregat, ie. the top left cell</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">getSkins</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">sortedCells</span>&nbsp;<span class="stTempVariable">allSkins</span>&nbsp;<span class="stTempVariable">aColl</span>&nbsp;<span class="stTempVariable">aCell</span>&nbsp;<span class="stTempVariable">includedNeighCells</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">sortedCells</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/getSkinE">getSkinE</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/asSortedCollection%253A.html">asSortedCollection:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">a</span>&nbsp;:<span class="stTempVariable">b</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">a</span></span>&nbsp;<a class="stSelector" href="../selector/list/id.html">id</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253C.html">&lt;</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">b</span></span>&nbsp;<a class="stSelector" href="../selector/list/id.html">id</a></span></span></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/copy.html">copy</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">allSkins</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">sortedCells</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;]</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/BlockClosure.html#method/whileFalse%253A">whileFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">aColl</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">aCell</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">sortedCells</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">includedNeighCells</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Collection.html#class/method/with%253A">with:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">aCell</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">includedNeighCells</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/or%253A.html">or:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">sortedCells</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/BlockClosure.html#method/whileFalse%253A">whileFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">aCell</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">sortedCells</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">aColl</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">aCell</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">sortedCells</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">aCell</span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">includedNeighCells</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">aCell</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">n</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">sortedCells</span></span>&nbsp;<a class="stSelector" href="../selector/list/includes%253A.html">includes:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">n</span></span></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">aColl</span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">includedNeighCells</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">sortedCells</span></span>&nbsp;<a class="stSelector" href="../selector/list/removeAll%253A.html">removeAll:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">includedNeighCells</span></span></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">allSkins</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">aColl</span></span></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stReturn">^<span class="stTempVariable">allSkins</span></span></div></code></div></div><a name="method/givenSize"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">givenSize</p><div class="docstring"><div class="discussion"><p>Purpose: stores the target size. by default, a very large givenSize</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">givenSize</span><div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><a class="stInstanceVariable" href="../popup/class%2FCMSpatialEntityAggregateinstanceVariable/givenSize.html">givenSize</a></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNumberLiteral" href="../class/LargePositiveInteger.html">999999999999</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stInstanceVariable" href="../popup/class%2FCMSpatialEntityAggregateinstanceVariable/givenSize.html">givenSize</a></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/givenSize%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">givenSize:</p><div class="docstring"><div class="discussion"></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">givenSize:</span>&nbsp;<span class="stArgument">aValue</span>&nbsp;<div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><a class="stInstanceVariable" href="../popup/class%2FCMSpatialEntityAggregateinstanceVariable/givenSize.html">givenSize</a></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stArgument">aValue</span></span></span></div></code></div></div><a name="method/imageIncludes%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">imageIncludes:</p><div class="docstring"><div class="discussion"></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">imageIncludes:</span>&nbsp;<span class="stArgument">aPoint</span>&nbsp;<div class="stIndent"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../selector/list/image.html">image</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/notNil.html">notNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../selector/list/image.html">image</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/component.html">component</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/regionIntersects%253A.html">regionIntersects:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stArgument">aPoint</span></span>&nbsp;<a class="stSelector" href="../selector/list/extent%253A.html">extent:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">1</a></span>)</span></span></span></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stFalse" href="../class/False.html">false</a></span>&nbsp;]</span></span></div></span></span></div></code></div></div><a name="method/initNeighbourhood"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">initNeighbourhood</p><div class="docstring"><div class="discussion"><p>Purpose: builds and store the neighbourhood of the receiver as the collection of same kind of aggregates whose components include at least one element the receiver surround</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">initNeighbourhood</span><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/edge%253A">edge:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components">components</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/contains%253A.html">contains:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/edge.html">edge</a></span></span>&nbsp;]</span></span>)</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/setSurround">setSurround</a></span><br/><span class="stAssignment"><span class="stAssignmentVariable"><a class="stInstanceVariable" href="../popup/class%2FCMSpatialEntityAggregateinstanceVariable/neighbourhood.html">neighbourhood</a></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><a class="stInstanceVariable" href="../popup/class%2FCMSpatialEntityAggregateinstanceVariable/surround.html">surround</a></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/collect%253A.html">collect:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">a</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">a</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/theCSE">theCSE</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253AifAbsent%253A.html">at:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ProtoObject.html#method/class">class</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Class.html#method/name">name</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253AifAbsent%253A.html">ifAbsent:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span></div>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/asSet.html">asSet</a></span></span>.</span><br/><span class="stComment">To get rid of duplicates, a Set is used...<br/></span><span class="stAssignment"><span class="stAssignmentVariable"><a class="stInstanceVariable" href="../popup/class%2FCMSpatialEntityAggregateinstanceVariable/neighbourhood.html">neighbourhood</a></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stInstanceVariable" href="../popup/class%2FCMSpatialEntityAggregateinstanceVariable/neighbourhood.html">neighbourhood</a></span>&nbsp;<a class="stSelector" href="../selector/list/asOrderedCollection.html">asOrderedCollection</a></span></span></span><span class="stComment">...and then made as an OrderedCollection once the job is done...<br/></span></div></code></div></div><a name="method/joinSegments2%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">joinSegments2:</p><div class="docstring"><div class="discussion"><p>clp juin 2000, revu PB Fev 2002 Prend en parametre une collection de LineSegments et retourne la collection des noeuds de la ligne brisee</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">joinSegments2:</span>&nbsp;<span class="stArgument">aCollecOfLineSegments</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">vertices</span>&nbsp;<span class="stTempVariable">firstSegment</span>&nbsp;<span class="stTempVariable">segment</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">vertices</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">firstSegment</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">segment</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stTempVariable">firstSegment</span></span>.</span><br/><span class="stTempVariable">vertices</span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/start.html">start</a></span></span>;<br/><a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span>.</div><br/><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">segment</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">firstSegment</span></span>&nbsp;<a class="stSelector" href="../selector/list/start.html">start</a></span></span></span></span>&nbsp;]</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/BlockClosure.html#method/whileFalse%253A">whileFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">segment</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/detect%253AifNone%253A.html">detect:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">s</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">s</span></span>&nbsp;<a class="stSelector" href="../selector/list/start.html">start</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span></span></span>&nbsp;]</span></span>&nbsp;<a class="stSelector" href="../selector/list/detect%253AifNone%253A.html">ifNone:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">vertices</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">segment</span></span></span></div></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Object.html#method/halt">halt</a></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stReturn">^<span class="stTempVariable">vertices</span></span></div></code></div></div><a name="method/joinSegments3%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">joinSegments3:</p><div class="docstring"><div class="discussion"><p>clp juin 2000, revu PB Fev 2002 Prend en parametre une collection de LineSegments et retourne la collection des noeuds de la ligne brisee  !! Recursive !!</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">joinSegments3:</span>&nbsp;<span class="stArgument">aCollecOfLineSegments</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">vertices</span>&nbsp;<span class="stTempVariable">firstSegment</span>&nbsp;<span class="stTempVariable">segment</span>&nbsp;<span class="stTempVariable">segments</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">vertices</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">firstSegment</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">segment</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stTempVariable">firstSegment</span></span>.</span><br/><span class="stTempVariable">vertices</span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/start.html">start</a></span></span>;<br/><a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span>.</div><br/><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">segment</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">firstSegment</span></span>&nbsp;<a class="stSelector" href="../selector/list/start.html">start</a></span></span></span></span>&nbsp;<a class="stSelector" href="../selector/list/or%253A.html">or:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/BlockClosure.html#method/whileFalse%253A">whileFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">segments</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">s</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">s</span></span>&nbsp;<a class="stSelector" href="../selector/list/start.html">start</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">segment</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253A.html">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">1</a></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">vertices</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">segment</span></span></span><span class="stComment">segments size &gt; 1 ifTrue: [^vertices addAll: (self joinSegments: aCollecOfLineSegments)]<br/></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stTempVariable">vertices</span></span></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">vertices</span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/joinSegments%253A">joinSegments:</a>&nbsp;<span class="stSendArgument"><span class="stArgument">aCollecOfLineSegments</span></span>)</span></span>.</span><br/><span class="stReturn">^<span class="stTempVariable">vertices</span></span></div></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/joinSegments%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">joinSegments:</p><div class="docstring"><div class="discussion"><p>clp juin 2000 Prend en parametre une collection de LineSegments et retourne la collection des noeuds de la ligne brisee</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">joinSegments:</span>&nbsp;<span class="stArgument">aCollecOfLineSegments</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">vertices</span>&nbsp;<span class="stTempVariable">firstSegment</span>&nbsp;<span class="stTempVariable">segment</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">vertices</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">firstSegment</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">segment</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stTempVariable">firstSegment</span></span>.</span><br/><span class="stTempVariable">vertices</span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/start.html">start</a></span></span>;<br/><a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span>.</div><br/><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">segment</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">firstSegment</span></span>&nbsp;<a class="stSelector" href="../selector/list/start.html">start</a></span></span></span></span>&nbsp;]</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/BlockClosure.html#method/whileFalse%253A">whileFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">segment</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/detect%253AifNone%253A.html">detect:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">s</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">s</span></span>&nbsp;<a class="stSelector" href="../selector/list/start.html">start</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span></span></span>&nbsp;]</span></span>&nbsp;<a class="stSelector" href="../selector/list/detect%253AifNone%253A.html">ifNone:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">vertices</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">segment</span></span></span></div></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Object.html#method/halt">halt</a></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stReturn">^<span class="stTempVariable">vertices</span></span></div></code></div></div><a name="method/joinSegments_PB%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">joinSegments_PB:</p><div class="docstring"><div class="discussion"><p>clp juin 2000, revu PB Fev 2002 Prend en parametre une collection de LineSegments et retourne la collection des noeuds de la ligne brisee</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">joinSegments_PB:</span>&nbsp;<span class="stArgument">aCollecOfLineSegments</span>&nbsp;<div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">vertices</span>&nbsp;<span class="stTempVariable">firstSegment</span>&nbsp;<span class="stTempVariable">segment</span>&nbsp;<span class="stTempVariable">endLoop</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">vertices</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">firstSegment</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">segment</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stTempVariable">firstSegment</span></span>.</span><br/><span class="stTempVariable">vertices</span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/start.html">start</a></span></span>;<br/><a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span>.</div><br/><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">segment</span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">endLoop</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><a class="stFalse" href="../class/False.html">false</a></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stTempVariable">endLoop</span></span>&nbsp;]</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/BlockClosure.html#method/whileFalse%253A">whileFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">segment</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/detect%253AifNone%253A.html">detect:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">s</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">s</span></span>&nbsp;<a class="stSelector" href="../selector/list/start.html">start</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span></span></span>&nbsp;]</span></span>&nbsp;<a class="stSelector" href="../selector/list/detect%253AifNone%253A.html">ifNone:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNil" href="../class/UndefinedObject.html">nil</a></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">vertices</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stArgument">aCollecOfLineSegments</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">segment</span></span></span></div></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Object.html#method/halt">halt</a></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">endLoop</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segment</span></span>&nbsp;<a class="stSelector" href="../selector/list/end.html">end</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">firstSegment</span></span>&nbsp;<a class="stSelector" href="../selector/list/start.html">start</a></span></span></span></span></span><span class="stComment">and: [(aCollecOfLineSegments contains: [:s | s start = segment end]) not]<br/></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stReturn">^<span class="stTempVariable">vertices</span></span></div></code></div></div><a name="method/mergeWith%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">mergeWith:</p><div class="docstring"><div class="discussion"><p>Purpose: merges a givern aggregate with the receiver whose surround is then reset Argument: otherAggregate = <a href="SpatialEntityAggregate"></a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">mergeWith:</span>&nbsp;<span class="stArgument">otherAggregate</span>&nbsp;<div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components">components</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stArgument">otherAggregate</span></span>&nbsp;<a class="stSelector" href="../selector/list/components.html">components</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/setSurround">setSurround</a></span></div></code></div></div><a name="method/perimeter"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">perimeter</p><div class="docstring"><div class="discussion"><p>return the number of segments of the skin</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">perimeter</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">counter</span>&nbsp;<span class="stTempVariable">nb</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">counter</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><a class="stNumberLiteral" href="../class/SmallInteger.html">0</a></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/setOutline">setOutline</a></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">a</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">nb</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">a</span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253A.html">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">2</a></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/spaceModel">spaceModel</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/gridCellShape.html">gridCellShape</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/hexagonal.html">#'hexagonal'</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">counter</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">counter</span></span>&nbsp;<a class="stSelector" href="../selector/list/%252B.html">+</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">nb</span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span></span></span></span></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">nb</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">e</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">e</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/S.html">#'S'</a></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/%257C.html">|</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">e</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/N.html">#'N'</a></span>)</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/%257C.html">|</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">e</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/E.html">#'E'</a></span>)</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/%257C.html">|</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">e</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/W.html">#'W'</a></span>)</span></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">counter</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">counter</span></span>&nbsp;<a class="stSelector" href="../selector/list/%252B.html">+</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">1</a></span></span></span></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></span></div></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stReturn">^<span class="stTempVariable">counter</span></span></div></code></div></div><a name="method/segment%253Afrom4%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">segment:from4:</p><div class="docstring"><div class="discussion"><p>Selon la m√©thode de fabrication d'une image rectangulaire (cf createTopLeftRectangularCellImage), on a l'ordre suivant:                  1 ####### 4#         #   2 #######      3</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">segment:</span>&nbsp;<span class="stArgument">direction</span>&nbsp;<span class="stSelector">from4:</span>&nbsp;<span class="stArgument">segments</span>&nbsp;<div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/NE.html">#'NE'</a></span></span></span>&nbsp;<a class="stSelector" href="../selector/list/or%253A.html">or:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/NW.html">#'NW'</a></span></span></span>&nbsp;<a class="stSelector" href="../selector/list/or%253A.html">or:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/SW.html">#'SW'</a></span></span></span>&nbsp;<a class="stSelector" href="../selector/list/or%253A.html">or:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/SE.html">#'SE'</a></span></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<a class="stNil" href="../class/UndefinedObject.html">nil</a></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/N.html">#'N'</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stArgument">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/E.html">#'E'</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stArgument">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253A.html">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">2</a></span></span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/S.html">#'S'</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stArgument">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253A.html">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">3</a></span></span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/W.html">#'W'</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stArgument">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/last.html">last</a></span></span></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/segment%253Afrom6%253A"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">segment:from6:</p><div class="docstring"><div class="discussion"><p>Selon la m√©thode de fabrication d'une image hexagonale (cf createTopLeftHexagonalCellImage), on a l'ordre suivant:     #   3       #         #      4 #                  # 2#                  #    5 #                  # 1    #         #   6<br/>     #</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">segment:</span>&nbsp;<span class="stArgument">direction</span>&nbsp;<span class="stSelector">from6:</span>&nbsp;<span class="stArgument">segments</span>&nbsp;<div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/N.html">#'N'</a></span></span></span>&nbsp;<a class="stSelector" href="../selector/list/or%253A.html">or:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/S.html">#'S'</a></span></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<a class="stNil" href="../class/UndefinedObject.html">nil</a></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/SW.html">#'SW'</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stArgument">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/W.html">#'W'</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stArgument">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253A.html">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">2</a></span></span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/NW.html">#'NW'</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stArgument">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253A.html">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">3</a></span></span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/NE.html">#'NE'</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stArgument">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253A.html">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">4</a></span></span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/E.html">#'E'</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stArgument">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253A.html">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">5</a></span></span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stArgument">direction</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/SE.html">#'SE'</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stArgument">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/last.html">last</a></span></span></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/setImage"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">setImage</p><div class="docstring"><div class="discussion"></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">setImage</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">p</span>&nbsp;<span class="stTempVariable">segments</span>&nbsp;<span class="stTempVariable">vertices</span>&nbsp;<span class="stTempVariable">newSegment</span>&nbsp;<span class="stTempVariable">thePolylines</span>&nbsp;<span class="stTempVariable">mainPolyline</span>&nbsp;<span class="stTempVariable">ie</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/setOutline">setOutline</a></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">segments</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">p</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/spaceModel">spaceModel</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/SpaceModel.html#method/elementaryEntities">elementaryEntities</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/detect%253AifNone%253A.html">detect:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">cc</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">cc</span></span>&nbsp;<a class="stSelector" href="../selector/list/id.html">id</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span></span></span>&nbsp;]</span></span>&nbsp;<a class="stSelector" href="../selector/list/detect%253AifNone%253A.html">ifNone:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Object.html#method/halt">halt</a></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/last.html">last</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">dir</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">newSegment</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">p</span></span>&nbsp;<a class="stSelector" href="../selector/list/perform%253A.html">perform:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><a class="stStringLiteral" href="../class/ByteString.html">'lineSegment'</a></span>&nbsp;<a class="stSelector" href="../selector/list/%252C.html">,</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">dir</span></span>&nbsp;<a class="stSelector" href="../selector/list/asString.html">asString</a></span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/%252C.html">,</a>&nbsp;<span class="stSendArgument"><a class="stStringLiteral" href="../class/ByteString.html">'f'</a></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/asSymbol.html">asSymbol</a></span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">newSegment</span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">newSegment</span></span></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stComment">Il faut ensuite les recoudre...pour creer les vertices des polylines<br/></span><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">thePolylines</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;]</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/BlockClosure.html#method/whileFalse%253A">whileFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">vertices</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/joinSegments%253A">joinSegments:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">segments</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">vertices</span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/and%253A.html">and:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">vertices</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span>Polyline</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices%253A.html">vertices:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">vertices</span></span>)</span></span></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stComment">Creation de l'image, mise a jour affichage si necessaire<br/></span><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">thePolylines</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/asSortedCollection%253A.html">asSortedCollection:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">a</span>&nbsp;:<span class="stTempVariable">b</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">a</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices.html">vertices</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253E.html">&gt;</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">b</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices.html">vertices</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">mainPolyline</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">mainPolyline</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../selector/list/image%253A.html">image:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">mainPolyline</span></span>&nbsp;<a class="stSelector" href="../selector/list/asFiller.html">asFiller</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMEntity.html#method/center%253A">center:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/at%253A">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">1</a></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/center.html">center</a></span></span>.</span><br/><span class="stComment">le centre de l'agregat correspond au centre du 1er element<br/></span><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/includedEntities%253A">includedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Set.html">Set</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/HashedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">polyL</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">ie</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ProtoObject.html#method/class">class</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#class/method/new%253A">new:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/spaceModel">spaceModel</a></span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">ie</span></span>&nbsp;<a class="stSelector" href="../selector/list/image%253A.html">image:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">polyL</span></span>&nbsp;<a class="stSelector" href="../selector/list/asFiller.html">asFiller</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/includedEntities">includedEntities</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">ie</span></span></span></div></span>&nbsp;]</span></span></span></div></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/setImage2"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">setImage2</p><div class="docstring"><div class="discussion"></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">setImage2</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">p</span>&nbsp;<span class="stTempVariable">segments</span>&nbsp;<span class="stTempVariable">vertices</span>&nbsp;<span class="stTempVariable">newSegment</span>&nbsp;<span class="stTempVariable">thePolylines</span>&nbsp;<span class="stTempVariable">mainPolyline</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/setOutline">setOutline</a></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/spaceModel">spaceModel</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/gridCellShape.html">gridCellShape</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/irregular.html">#'irregular'</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/setImageFromIrregularCells">setImageFromIrregularCells</a></span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stComment">Recuperation de tous les segments<br/></span><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">segments</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">p</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/view">view</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/model.html">model</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/SpaceModel.html#method/elementaryEntities">elementaryEntities</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253A.html">at:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/last.html">last</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">dir</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">newSegment</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">p</span></span>&nbsp;<a class="stSelector" href="../selector/list/perform%253A.html">perform:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><a class="stStringLiteral" href="../class/ByteString.html">'lineSegment'</a></span>&nbsp;<a class="stSelector" href="../selector/list/%252C.html">,</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">dir</span></span>&nbsp;<a class="stSelector" href="../selector/list/asString.html">asString</a></span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/%252C.html">,</a>&nbsp;<span class="stSendArgument"><a class="stStringLiteral" href="../class/ByteString.html">'f'</a></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/asSymbol.html">asSymbol</a></span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">newSegment</span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">newSegment</span></span></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stComment">Il faut ensuite les recoudre...pour creer les vertices des polylines<br/></span><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">thePolylines</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;]</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/BlockClosure.html#method/whileFalse%253A">whileFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">vertices</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/joinSegments%253A">joinSegments:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">segments</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">vertices</span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/and%253A.html">and:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">vertices</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span>Polyline</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices%253A.html">vertices:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">vertices</span></span>)</span></span></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stComment">Creation de l'image, mise a jour affichage si necessaire<br/></span><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">thePolylines</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/asSortedCollection%253A.html">asSortedCollection:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">a</span>&nbsp;:<span class="stTempVariable">b</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">a</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices.html">vertices</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253E.html">&gt;</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">b</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices.html">vertices</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">mainPolyline</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">mainPolyline</span></span>.</span><br/><span class="stComment">Controle si le mainPolyline ne contient pas d'autres polylines (cas connexite = 8)Marche pas trop ! Voir avec example de Geometric :<br/>	comp := CompositePart new.<br/>	comp add: g1. &lt;Wapper&gt;<br/>	comp add: g2.<br/>	win component: (BoundedWrapper on: comp).<br/></span><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stTemporaries">| <span class="stTempVariable">extension</span>&nbsp;| </span><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">extension</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stTempVariable">thePolylines</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">extension</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;]</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/BlockClosure.html#method/whileFalse%253A">whileFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">extension</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Set.html">Set</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/HashedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">pol</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">pol</span></span>&nbsp;<a class="stSelector" href="../selector/list/verticesDo%253A.html">verticesDo:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">pt</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">mainPolyline</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices.html">vertices</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/contains%253A.html">contains:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">ptm</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">ptm</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">pt</span></span></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">extension</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">pol</span></span></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">extension</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">poly</span>&nbsp;| </span><span class="stBlockBody"><span class="stTemporaries">| <span class="stTempVariable">v</span>&nbsp;| </span><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">v</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">mainPolyline</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices.html">vertices</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/asOrderedCollection.html">asOrderedCollection</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">v</span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">poly</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices.html">vertices</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">mainPolyline</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span>Polyline</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices%253A.html">vertices:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">v</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">poly</span></span></span></div></span>&nbsp;]</span></span></span></div></span>&nbsp;]</span></span></span></div></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/includedEntities%253A">includedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Set.html">Set</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/HashedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../selector/list/image%253A.html">image:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">mainPolyline</span></span>.</span><br/><span class="stComment">le centre de l'agregat correspond au centre du 1er element<br/></span><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMEntity.html#method/center%253A">center:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/at%253A">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">1</a></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/center.html">center</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/includedEntities">includedEntities</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">thePolylines</span></span></span></div></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/setImage3"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">setImage3</p><div class="docstring"><div class="discussion"></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">setImage3</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">p</span>&nbsp;<span class="stTempVariable">segments</span>&nbsp;<span class="stTempVariable">vertices</span>&nbsp;<span class="stTempVariable">newSegment</span>&nbsp;<span class="stTempVariable">thePolylines</span>&nbsp;<span class="stTempVariable">mainPolyline</span>&nbsp;<span class="stTempVariable">directions</span>&nbsp;<span class="stTempVariable">includedNeighCells</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/spaceModel">spaceModel</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/gridCellShape.html">gridCellShape</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/irregular.html">#'irregular'</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/setImageFromIrregularCells">setImageFromIrregularCells</a></span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">directions</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Set.html">Set</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/HashedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/getSkinE">getSkinE</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">cell</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">directions</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Set.html">Set</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/HashedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">directions</span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">cell</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/boundaryDirections">boundaryDirections</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">cell</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">cc</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/elementaryComponents">elementaryComponents</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/includes%253A.html">includes:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">cc</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">on</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">directions</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">cell</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/directionNeighbour%253A">directionNeighbour:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">on</span></span>)</span></span></span></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><a class="stClassLiteral" href="../class/Array.html">Array</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ArrayedCollection.html#class/method/with%253Awith%253A">with:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">cell</span></span>&nbsp;<a class="stSelector" href="../selector/list/id.html">id</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ArrayedCollection.html#class/method/with%253Awith%253A">with:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">directions</span></span>)</span></span></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stComment">Recuperation de tous les segments<br/></span><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">segments</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">p</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/view">view</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/model.html">model</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/SpaceModel.html#method/elementaryEntities">elementaryEntities</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253A.html">at:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/last.html">last</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">dir</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">newSegment</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">p</span></span>&nbsp;<a class="stSelector" href="../selector/list/perform%253A.html">perform:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><a class="stStringLiteral" href="../class/ByteString.html">'lineSegment'</a></span>&nbsp;<a class="stSelector" href="../selector/list/%252C.html">,</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">dir</span></span>&nbsp;<a class="stSelector" href="../selector/list/asString.html">asString</a></span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/%252C.html">,</a>&nbsp;<span class="stSendArgument"><a class="stStringLiteral" href="../class/ByteString.html">'f'</a></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/asSymbol.html">asSymbol</a></span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">newSegment</span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">newSegment</span></span></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stComment">Il faut ensuite les recoudre...pour creer les vertices des polylines<br/></span><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">thePolylines</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">segments</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;]</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/BlockClosure.html#method/whileFalse%253A">whileFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">vertices</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/joinSegments%253A">joinSegments:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">segments</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">vertices</span></span>&nbsp;<a class="stSelector" href="../selector/list/isNil.html">isNil</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/and%253A.html">and:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">vertices</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span>Polyline</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices%253A.html">vertices:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">vertices</span></span>)</span></span></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stComment">Creation de l'image, mise a jour affichage si necessaire<br/></span><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">thePolylines</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/asSortedCollection%253A.html">asSortedCollection:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">a</span>&nbsp;:<span class="stTempVariable">b</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">a</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices.html">vertices</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253E.html">&gt;</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">b</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices.html">vertices</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">mainPolyline</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/first.html">first</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">mainPolyline</span></span>.</span><br/><span class="stComment">Controle si le mainPolyline ne contient pas d'autres polylines (cas connexite = 8)Marche pas trop ! Voir avec example de Geometric :<br/>	comp := CompositePart new.<br/>	comp add: g1. &lt;Wapper&gt;<br/>	comp add: g2.<br/>	win component: (BoundedWrapper on: comp).<br/></span><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stTemporaries">| <span class="stTempVariable">extension</span>&nbsp;| </span><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">extension</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stTempVariable">thePolylines</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">extension</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;]</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/BlockClosure.html#method/whileFalse%253A">whileFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">extension</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Set.html">Set</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/HashedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">pol</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">pol</span></span>&nbsp;<a class="stSelector" href="../selector/list/verticesDo%253A.html">verticesDo:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">pt</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">mainPolyline</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices.html">vertices</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/contains%253A.html">contains:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">ptm</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">ptm</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">pt</span></span></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">extension</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">pol</span></span></span></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">extension</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">poly</span>&nbsp;| </span><span class="stBlockBody"><span class="stTemporaries">| <span class="stTempVariable">v</span>&nbsp;| </span><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">v</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">mainPolyline</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices.html">vertices</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/asOrderedCollection.html">asOrderedCollection</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">v</span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">poly</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices.html">vertices</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">mainPolyline</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span>Polyline</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices%253A.html">vertices:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">v</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">thePolylines</span></span>&nbsp;<a class="stSelector" href="../selector/list/remove%253A.html">remove:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">poly</span></span></span></div></span>&nbsp;]</span></span></span></div></span>&nbsp;]</span></span></span></div></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/includedEntities%253A">includedEntities:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Set.html">Set</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/HashedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../selector/list/image%253A.html">image:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">mainPolyline</span></span>.</span><br/><span class="stComment">le centre de l'agregat correspond au centre du 1er element<br/></span><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMEntity.html#method/center%253A">center:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/at%253A">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">1</a></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/center.html">center</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/includedEntities">includedEntities</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">thePolylines</span></span></span></div></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></div></span></div></code></div></div><a name="method/setImage4"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">setImage4</p><div class="docstring"><div class="discussion"></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">setImage4</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">vertices</span>&nbsp;<span class="stTempVariable">mainPolyline</span>&nbsp;<span class="stTempVariable">epiderme</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Object.html#method/halt">halt</a></span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">epiderme</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/getEpidermis">getEpidermis</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">vertices</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">epiderme</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">vertices</span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/image.html">image</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/component.html">component</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/asPolyline.html">asPolyline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices.html">vertices</a></span></span></span></span>&nbsp;]</span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">mainPolyline</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span>Polyline</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices%253A.html">vertices:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">vertices</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../selector/list/image%253A.html">image:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">mainPolyline</span></span></span></div></code></div></div><a name="method/setImageFromIrregularCells"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">setImageFromIrregularCells</p><div class="docstring"><div class="discussion"></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">setImageFromIrregularCells</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">mainPolyline</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">mainPolyline</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span>Polyline</span></span>&nbsp;<a class="stSelector" href="../selector/list/vertices%253A.html">vertices:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../selector/list/image%253A.html">image:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">mainPolyline</span></span>.</span><br/><span class="stComment">le centre de l'agregat correspond au centre du 1er elementself includedEntities addAll: thePolylines<br/></span><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMEntity.html#method/center%253A">center:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/at%253A">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">1</a></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/center.html">center</a></span></span></span></div></code></div></div><a name="method/setOutline"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">setOutline</p><div class="docstring"><div class="discussion"><p>clp mars 2000</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">setOutline</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">directions</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/outline%253A">outline:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Set.html">Set</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/HashedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/getSkinE">getSkinE</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">directions</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Set.html">Set</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/HashedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">directions</span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/boundaryDirections">boundaryDirections</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">cc</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/elementaryComponents">elementaryComponents</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/includes%253A.html">includes:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">cc</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">on</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">directions</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/directionNeighbour%253A">directionNeighbour:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">on</span></span>)</span></span></span></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><a class="stClassLiteral" href="../class/Array.html">Array</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ArrayedCollection.html#class/method/with%253Awith%253A">with:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/id.html">id</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ArrayedCollection.html#class/method/with%253Awith%253A">with:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">directions</span></span>)</span></span></span></div></span>&nbsp;]</span></span></span></div></code></div></div><a name="method/setOutline2"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">setOutline2</p><div class="docstring"><div class="discussion"><p>clp mars 2000 - PB mai 2002 Pour les cells regulieres : outline est une collection de couples de valeurs (id de cellule; collection de directions) Pour les cells irregulieres: outine est une collection de points</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">setOutline2</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">directions</span>&nbsp;<span class="stTempVariable">includedNeighCells</span>&nbsp;<span class="stTempVariable">outlineTempo</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/outline%253A">outline:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Set.html">Set</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/HashedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/getSkinE">getSkinE</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/spaceModel">spaceModel</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/gridCellShape.html">gridCellShape</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stSymbolLiteral" href="../selector/list/irregular.html">#'irregular'</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">outlineTempo</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/outline.html">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/copy.html">copy</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/asSet.html">asSet</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">includedNeighCells</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">n</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/containsCell%253A">containsCell:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">n</span></span></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">includedNeighCells</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">n</span>&nbsp;| </span><span class="stBlockBody"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">outlineTempo</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">outlineTempo</span></span>&nbsp;<a class="stSelector" href="../selector/list/-.html">-</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">n</span></span>&nbsp;<a class="stSelector" href="../selector/list/outline.html">outline</a></span></span></span></span></span></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">outlineTempo</span></span></span></div></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">directions</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Set.html">Set</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/HashedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">directions</span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/boundaryDirections">boundaryDirections</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">cc</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/elementaryComponents">elementaryComponents</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/includes%253A.html">includes:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">cc</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;]</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">on</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">directions</span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityElement.html#method/directionNeighbour%253A">directionNeighbour:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">on</span></span>)</span></span></span></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><a class="stClassLiteral" href="../class/Array.html">Array</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ArrayedCollection.html#class/method/with%253Awith%253A">with:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stSelector" href="../selector/list/id.html">id</a></span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ArrayedCollection.html#class/method/with%253Awith%253A">with:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">directions</span></span>)</span></span></span></div></span>&nbsp;]</span></span></div></span></div></span>&nbsp;]</span></span></span></div></code></div></div><a name="method/setOutline3"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">setOutline3</p><div class="docstring"><div class="discussion"><p>outine est une collection de points</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">setOutline3</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">externalNeighCells</span>&nbsp;<span class="stTempVariable">outlineTempo</span>&nbsp;<span class="stTempVariable">skin</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/outline%253A">outline:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/OrderedCollection.html">OrderedCollection</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/OrderedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">outlineTempo</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Set.html">Set</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/HashedCollection.html#class/method/new">new</a></span></span>.</span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">skin</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/getSkinE">getSkinE</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">skin</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">cell</span>&nbsp;| </span><span class="stBlockBody"><div class="stIndent"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">externalNeighCells</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">cell</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/neighbourhood">neighbourhood</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">n</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/elementaryComponents">elementaryComponents</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/includes%253A.html">includes:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">n</span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">externalNeighCells</span></span>&nbsp;<a class="stSelector" href="../selector/list/do%253A.html">do:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">n</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">outlineTempo</span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">cell</span></span>&nbsp;<a class="stSelector" href="../selector/list/sharedOutlineWith%253A.html">sharedOutlineWith:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">n</span></span>)</span></span></span></span>&nbsp;]</span></span></span></div></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/addAll%253A.html">addAll:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">outlineTempo</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/add%253A.html">add:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/outline">outline</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/at%253A.html">at:</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">1</a></span>)</span></span></span></div></code></div></div><a name="method/swell"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">swell</p><div class="docstring"><div class="discussion"><p>The aggregat swells on its surround layer. It swells if there is enough space arround it and if its size is below givenSize. Returns a boolean indicating if it has spread</p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">swell</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">newCells</span>&nbsp;| </span><br/><span class="stMessage"><span class="stReceiver"><a class="stInstanceVariable" href="../popup/class%2FCMSpatialEntityAggregateinstanceVariable/givenSize.html">givenSize</a></span>&nbsp;<a class="stSelector" href="../selector/list/ifNil%253A.html">ifNil:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stSuper">super</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/swell">swell</a></span></span></span>&nbsp;]</span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components">components</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%253E%253D.html">&gt;=</a>&nbsp;<span class="stSendArgument"><a class="stInstanceVariable" href="../popup/class%2FCMSpatialEntityAggregateinstanceVariable/givenSize.html">givenSize</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<a class="stFalse" href="../class/False.html">false</a></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">newCells</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/surround">surround</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/select%253A.html">select:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs">:<span class="stTempVariable">c</span>&nbsp;| </span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stTempVariable">c</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntity.html#method/isComponentOf%253A">isComponentOf:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/ProtoObject.html#method/class">class</a></span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/not.html">not</a></span></span>&nbsp;]</span></span></span></span>.</span><br/><span class="stComment">newCells := Cormas selectRandomlyFrom: newCells subCollectionSize: nbOfNewCells.<br/></span><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">newCells</span></span>&nbsp;<a class="stSelector" href="../selector/list/isEmpty.html">isEmpty</a></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stReturn">^<a class="stFalse" href="../class/False.html">false</a></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components">components</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/%252B.html">+</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">newCells</span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253E%253D.html">&gt;=</a>&nbsp;<span class="stSendArgument"><a class="stInstanceVariable" href="../popup/class%2FCMSpatialEntityAggregateinstanceVariable/givenSize.html">givenSize</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">newCells</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Cormas.html">Cormas</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Cormas.html#class/method/selectRandomlyFrom%253AsubCollectionSize%253A">selectRandomlyFrom:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">newCells</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Cormas.html#class/method/selectRandomlyFrom%253AsubCollectionSize%253A">subCollectionSize:</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><a class="stInstanceVariable" href="../popup/class%2FCMSpatialEntityAggregateinstanceVariable/givenSize.html">givenSize</a></span>&nbsp;<a class="stSelector" href="../selector/list/-.html">-</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/components">components</a></span></span>&nbsp;<a class="stSelector" href="../selector/list/size.html">size</a></span></span></span></span></span></span></span></span>&nbsp;]</span></span>.</div></span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/addComponents%253A">addComponents:</a>&nbsp;<span class="stSendArgument"><span class="stTempVariable">newCells</span></span>.</span><br/><span class="stReturn">^<a class="stTrue" href="../class/True.html">true</a></span></div></code></div></div><a name="method/updateCompactness"></a><div class="method_details thumbnail" style="border: 2px solid #999;"><p class="signature">updateCompactness</p><div class="docstring"><div class="discussion"><p>Purpose: computes and stores the compactness index of the receiver (4* pi *area / perimeter squared) Return <a class="stSymbolLiteral" href="class/CMSpatialEntityAggregate.html/selector/list/value%253A.html">value:</a> <a href="Float"></a></p></div></div><div class="source_code"><code class="methodSource"><span class="stSelector">updateCompactness</span><div class="stIndent"><span class="stTemporaries">| <span class="stTempVariable">p</span>&nbsp;| </span><br/><span class="stAssignment"><span class="stAssignmentVariable"><span class="stTempVariable">p</span></span>&nbsp;<span class="stAssignmentOperator">:=</span>&nbsp;<span class="stAssignmentExpression"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/perimeter">perimeter</a></span></span>.</span><br/><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/compactness%253A">compactness:</a>&nbsp;<span class="stSendArgument"><span class="stMessage">(<span class="stReceiver"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">p</span></span>&nbsp;<a class="stSelector" href="../selector/list/%253D.html">=</a>&nbsp;<span class="stSendArgument"><a class="stNumberLiteral" href="../class/SmallInteger.html">0</a></span></span></span>&nbsp;<div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifTrue:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><a class="stNumberLiteral" href="../class/SmallInteger.html">0</a></span>&nbsp;]</span></span>&nbsp;</div><div class="stIndent"><a class="stSelector" href="../selector/list/ifTrue%253AifFalse%253A.html">ifFalse:</a>&nbsp;<span class="stSendArgument"><span class="stBlock">[&nbsp;<span class="stBlockArgs"></span><span class="stBlockBody"><span class="stMessage"><span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><span class="stMessage">(<span class="stReceiver"><a class="stNumberLiteral" href="../class/SmallInteger.html">4</a></span>&nbsp;<a class="stSelector" href="../selector/list/%252A.html">*</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><a class="stClassLiteral" href="../class/Float.html">Float</a></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/Float.html#class/method/pi">pi</a></span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/%252A.html">*</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntitySet.html#method/size">size</a></span></span>)</span></span>&nbsp;<a class="stSelector" href="../selector/list/%252F.html">/</a>&nbsp;<span class="stSendArgument"><span class="stMessage"><span class="stReceiver"><span class="stTempVariable">p</span></span>&nbsp;<a class="stSelector" href="../selector/list/squared.html">squared</a></span></span></span></span>&nbsp;]</span></span></div>)</span></span>.</span><br/><span class="stReturn">^<span class="stMessage"><span class="stReceiver"><span class="stSelf">self</span></span>&nbsp;<a class="stFixedSelector stSelector" href="../class/CMSpatialEntityAggregate.html#method/compactness">compactness</a></span></span></div></code></div></div></div></div><script type="text/javascript">function onLoad(){};</script></body></html>